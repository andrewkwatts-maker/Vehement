{
    "id": "naga_tide_pools",
    "type": "building",
    "name": "Tide Pools",
    "description": "Resource generation structure that harvests coral and pearls from the ocean. Significantly more effective when built near water.",
    "race": "naga",
    "tier": 1,
    "category": "economy",

    "tags": ["economy", "resource_generation", "tier1"],

    "model": {
        "path": "models/races/naga/buildings/tide_pools.obj",
        "scale": [1.0, 1.0, 1.0]
    },

    "textures": {
        "diffuse": "textures/races/naga/buildings/tide_pools_diffuse.png",
        "normal": "textures/races/naga/buildings/tide_pools_normal.png"
    },

    "footprint": {
        "gridType": "rect",
        "size": [3, 3],
        "entrances": [[1, 0]],
        "visualSize": [6.0, 3.0, 6.0]
    },

    "construction": {
        "cost": {
            "gold": 150,
            "coral": 50
        },
        "time": 40.0,
        "builder_required": true
    },

    "stats": {
        "maxHealth": 600,
        "armor": 3,
        "magicResist": 2
    },

    "resource_generation": {
        "coral": {
            "base_rate": 3,
            "near_water_multiplier": 2.5,
            "in_water_multiplier": 4.0
        },
        "pearls": {
            "base_rate": 0,
            "near_water_multiplier": 0.5,
            "in_water_multiplier": 1.5
        }
    },

    "water_bonus": {
        "near_water_radius": 4,
        "health_bonus": 150,
        "generation_check_radius": 3
    },

    "special_placement": {
        "prefer_water_adjacent": true,
        "allow_in_shallow_water": true,
        "water_placement_bonus": "increased_generation"
    },

    "requirements": {
        "buildings": ["naga_spawning_pool"]
    },

    "maxCount": 8,

    "visionRange": 6.0,

    "scripts": {
        "on_construct_complete": "scripts/buildings/naga/tide_pools/on_complete.py",
        "on_tick": "scripts/buildings/naga/tide_pools/on_tick.py"
    }
}
