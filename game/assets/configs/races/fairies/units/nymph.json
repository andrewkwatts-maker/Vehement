{
    "id": "fairy_nymph",
    "type": "unit",
    "race": "fairies",
    "name": "Nymph",
    "description": "Enchanting nature spirits who can charm enemies and heal allies. Their mesmerizing beauty makes them perfect support units.",

    "tags": ["military", "support", "tier2", "charmer", "healer", "caster"],

    "tier": 2,
    "age_requirement": 2,

    "model": {
        "path": "models/races/fairies/units/nymph.obj",
        "scale": [0.9, 0.9, 0.9],
        "offset": [0.0, 0.0, 0.0]
    },

    "textures": {
        "diffuse": "textures/races/fairies/units/nymph_diffuse.png",
        "normal": "textures/races/fairies/units/nymph_normal.png",
        "emissive": "textures/races/fairies/units/nymph_glow.png"
    },

    "collision": {
        "shapes": [
            {
                "type": "capsule",
                "radius": 0.25,
                "height": 1.5,
                "offset": [0.0, 0.75, 0.0]
            }
        ],
        "body_type": "dynamic",
        "mass": 45.0,
        "layer": "unit"
    },

    "stats": {
        "health": 320,
        "maxHealth": 320,
        "healthRegen": 0.6,
        "mana": 350,
        "maxMana": 350,
        "manaRegen": 2.5,
        "armor": 0,
        "magicResist": 30,
        "moveSpeed": 5.2,
        "turnRate": 380.0
    },

    "combat": {
        "attackDamage": 10,
        "attackSpeed": 1.5,
        "attackRange": 7.0,
        "damageType": "magic",
        "armorType": "light",
        "attackType": "ranged",
        "projectile": "charm_bolt",
        "projectile_speed": 20.0
    },

    "abilities": [
        {
            "id": "ability_charm",
            "name": "Charm",
            "description": "Enchant an enemy unit, causing them to fight for the Fae temporarily",
            "hotkey": "C",
            "cooldown": 45.0,
            "mana_cost": 100,
            "range": 10.0,
            "duration": 15.0,
            "effects": [
                {"type": "mind_control", "value": true},
                {"type": "damage_reduction", "value": 0.50, "scope": "charmed_unit"}
            ],
            "excludes": ["hero", "massive", "mechanical", "undead"]
        },
        {
            "id": "ability_rejuvenation_nymph",
            "name": "Rejuvenation",
            "description": "Heal a friendly unit over time",
            "hotkey": "R",
            "cooldown": 6.0,
            "mana_cost": 40,
            "range": 10.0,
            "duration": 12.0,
            "effects": [
                {"type": "heal_over_time", "value": 120}
            ],
            "auto_cast": true
        },
        {
            "id": "ability_sleep",
            "name": "Sleep",
            "description": "Put an enemy unit to sleep. Any damage will wake them.",
            "hotkey": "S",
            "cooldown": 20.0,
            "mana_cost": 60,
            "range": 12.0,
            "duration": 10.0,
            "effects": [
                {"type": "sleep", "value": true},
                {"type": "breaks_on_damage", "value": true}
            ]
        },
        {
            "id": "ability_glamour",
            "name": "Glamour",
            "description": "Grant an ally invisibility for a short duration",
            "hotkey": "G",
            "cooldown": 25.0,
            "mana_cost": 75,
            "range": 8.0,
            "duration": 20.0,
            "effects": [
                {"type": "invisibility", "value": true},
                {"type": "fade_time", "value": 1.5}
            ],
            "requires_upgrade": "upgrade_glamour"
        }
    ],

    "aura": {
        "id": "aura_soothing_presence",
        "name": "Soothing Presence",
        "description": "Nearby allies regenerate health faster",
        "radius": 10.0,
        "effects": [
            {"stat": "healthRegen", "value": 1.0, "type": "flat"}
        ]
    },

    "night_bonus": {
        "manaRegen": 0.50,
        "charm_duration": 0.30,
        "sleep_duration": 0.25
    },

    "upgrades": [
        {
            "id": "upgrade_nymph_magic",
            "stat": "spell_power",
            "bonus_per_level": 0.08
        },
        {
            "id": "upgrade_moonstone_armor",
            "stat": "magicResist",
            "bonus_per_level": 5
        }
    ],

    "production": {
        "building": "fairy_ancient_of_lore",
        "cost": {
            "gold": 140,
            "wood": 40,
            "food": 2
        },
        "build_time": 25.0,
        "population_cost": 2,
        "prerequisites": []
    },

    "ai": {
        "behaviorTree": "ai/behaviors/support_charmer.bt",
        "profile": "support",
        "aggroRange": 8.0,
        "leashRange": 20.0,
        "heal_threshold": 0.6,
        "charm_priority": ["heavy", "siege", "ranged"],
        "sleep_priority": ["hero", "heavy"]
    },

    "animations": {
        "idle": {"path": "animations/fairies/nymph/idle.anim", "loop": true},
        "walk": {"path": "animations/fairies/nymph/walk.anim", "loop": true},
        "attack": {"path": "animations/fairies/nymph/attack.anim", "loop": false},
        "cast": {"path": "animations/fairies/nymph/cast.anim", "loop": false},
        "charm": {"path": "animations/fairies/nymph/charm.anim", "loop": false},
        "death": {"path": "animations/fairies/nymph/death.anim", "loop": false}
    },

    "sounds": {
        "select": ["sounds/fairies/nymph/select_1.wav", "sounds/fairies/nymph/select_2.wav"],
        "acknowledge": ["sounds/fairies/nymph/ack_1.wav", "sounds/fairies/nymph/ack_2.wav"],
        "attack": "sounds/fairies/nymph/attack.wav",
        "charm": "sounds/fairies/nymph/charm.wav",
        "heal": "sounds/fairies/nymph/heal.wav",
        "death": "sounds/fairies/nymph/death.wav"
    },

    "ui": {
        "portrait": "textures/races/fairies/portraits/nymph.png",
        "icon": "textures/races/fairies/icons/nymph.png",
        "hotkey": "N"
    }
}
