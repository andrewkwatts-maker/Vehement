{
  "$schema": "../../../../schemas/unit_archetype.schema.json",

  // =============================================================================
  // NAGA WARRIOR - Melee Combat Unit
  // =============================================================================
  // Inherits from: melee_unit_archetype
  // Aquatic serpent warrior with trident and poison abilities
  // =============================================================================

  "parentArchetype": "melee_unit_archetype",
  "id": "naga_warrior",
  "name": "Naga Warrior",
  "description": "Fierce serpentine warrior wielding a coral trident. Excels in underwater combat and inflicts poison on enemies.",

  "category": "melee",
  "tier": 1,

  "baseStats": {
    "health": 180,
    "healthRegen": 0.6,
    "mana": 40,
    "manaRegen": 0.8,
    "damage": 15,
    "damageVariance": 0.18,
    "attackSpeed": 1.3,
    "attackRange": 2.0,  // Trident has longer reach
    "armor": 3,
    "magicResist": 2,
    "moveSpeed": 5.2,
    "turnSpeed": 360,
    "acceleration": 11.0,
    "sightRange": 11,
    "detectionRange": 9,
    "critChance": 0.08,
    "critMultiplier": 2.2
  },

  "combat": {
    "attackType": "pierce",
    "armorType": "medium",

    "attackAnimation": {
      "windupTime": 0.28,
      "backswingTime": 0.45,
      "totalDuration": 0.77
    },

    "bonusVs": [
      {
        "category": "unarmored",
        "multiplier": 1.4,
        "flatBonus": 3
      },
      {
        "category": "light",
        "multiplier": 1.25
      }
    ],

    "penaltyVs": [
      {
        "category": "fortified",
        "multiplier": 0.6
      }
    ],

    "cleave": {
      "enabled": false
    },

    "splash": {
      "enabled": false
    }
  },

  "movement": {
    "movementType": "amphibious",
    "canMoveOnLand": true,
    "canMoveOnWater": true,
    "canMoveOnLava": false,
    "canClimbCliffs": false,
    "canPassThroughUnits": false,

    "collisionRadius": 0.55,
    "pushPriority": 6,

    "pathfindingType": "amphibious",
    "unitSize": "medium",

    "waterMovementMultiplier": 1.6,
    "landMovementMultiplier": 0.8,
    "waterDepthPreference": "any"
  },

  "cost": {
    "gold": 110,
    "wood": 15,
    "food": 0,
    "stone": 0,
    "mana": 10
  },

  "trainTime": 32,
  "populationCost": 2,
  "requiredBuilding": "tidal_temple",
  "requiredAge": 0,
  "requiredTech": null,

  "abilities": [
    {
      "id": "poison_strike",
      "name": "Poison Strike",
      "description": "Coats trident with venom, dealing 5 damage per second for 6 seconds",
      "unlockedByDefault": true,
      "manaCost": 15,
      "cooldown": 12,
      "effect": "Next attack applies poison DoT"
    },
    {
      "id": "tidal_charge",
      "name": "Tidal Charge",
      "description": "Surges forward on a wave, stunning the first enemy hit",
      "unlockedByDefault": false,
      "requiredLevel": 2,
      "manaCost": 25,
      "cooldown": 20,
      "effect": "Dash forward 8 units, stun target for 1.5s"
    }
  ],

  "upgrades": [
    "naga_melee_attack_1",
    "naga_melee_attack_2",
    "naga_melee_attack_3",
    "naga_armor_1",
    "naga_armor_2",
    "naga_armor_3",
    "venom_mastery"
  ],

  "canGather": false,
  "canBuild": false,
  "canRepair": false,
  "canAttack": true,
  "canMove": true,
  "canHold": true,
  "canPatrol": true,
  "canStop": true,

  "isHero": false,
  "isUnique": false,
  "isSummoned": false,
  "isPermanent": true,
  "isOrganic": true,
  "isMechanical": false,
  "isUndead": false,

  "formation": {
    "preferredPosition": "front",
    "formationSpacing": 1.2,
    "maintainFormation": true
  },

  "ai": {
    "aggroRange": 13,
    "returnToPosition": true,
    "acquisitionRange": 11,

    "targetPriority": [
      {
        "type": "closest",
        "weight": 1.0
      },
      {
        "type": "wounded",
        "weight": 0.7
      }
    ],

    "fleeAtHealthPercent": 0.0,
    "pursuitRange": 16
  },

  "experience": {
    "canGainExperience": true,
    "maxLevel": 3,
    "experienceValue": 60,
    "bountyGold": 12,
    "bountyMultiplier": 1.0,

    "levelUpBonuses": {
      "health": 20,
      "damage": 2,
      "armor": 1
    }
  },

  "visuals": {
    "model": "models/units/naga/warrior.fbx",
    "portrait": "textures/portraits/naga/warrior.png",
    "icon": "textures/icons/units/naga/warrior.png",
    "scale": 1.1,

    "animations": {
      "idle": "anim_idle_combat",
      "walk": "anim_swim_combat",
      "attack": "anim_trident_slash",
      "death": "anim_death",
      "decay": "anim_dissolve",
      "build": null,
      "gather": null,
      "spell": "anim_poison_coat"
    },

    "deathEffect": "effects/naga_warrior_death.fx",
    "bloodType": "green",
    "shadowSize": 1.1,
    "selectionScale": 1.0,

    "teamColorParts": ["armor_trim", "trident_wrap"],
    "glowAtNight": true,
    "glowColor": "#00FFAA",
    "bioluminescence": {
      "enabled": true,
      "intensity": 0.7,
      "pulseSpeed": 1.5
    }
  },

  "sounds": {
    "select": [
      "sounds/units/naga/warrior/select1.wav",
      "sounds/units/naga/warrior/select2.wav",
      "sounds/units/naga/warrior/select3.wav"
    ],
    "move": [
      "sounds/units/naga/warrior/move1.wav",
      "sounds/units/naga/warrior/move2.wav"
    ],
    "attack": [
      "sounds/units/naga/warrior/attack1.wav",
      "sounds/units/naga/warrior/attack2.wav"
    ],
    "death": [
      "sounds/units/naga/warrior/death1.wav"
    ],
    "ready": [
      "sounds/units/naga/warrior/ready.wav"
    ],

    "footsteps": "sounds/footsteps/naga_slither.wav",
    "attackImpact": "sounds/impacts/trident_pierce.wav"
  },

  "racialTraits": {
    "race": "naga",
    "waterAffinity": true,
    "amphibious": true,
    "bioluminescent": true,
    "venomous": true,

    "environmentalBonuses": {
      "inWater": {
        "healthRegen": 1.8,
        "manaRegen": 1.6,
        "moveSpeed": 1.6,
        "attackSpeed": 1.15,
        "damageReduction": 0.15
      },
      "onLand": {
        "moveSpeed": 0.8,
        "attackSpeed": 0.95
      },
      "atDepth": {
        "deepWater": {
          "healthRegen": 2.5,
          "armor": 3,
          "damage": 1.1
        }
      }
    }
  },

  "metadata": {
    "author": "Claude",
    "version": "1.0",
    "notes": "Standard Naga melee fighter. Strong in water, poison abilities, decent range with trident.",
    "tacticalUse": "Frontline fighter. Use poison strike on tough enemies. Dominant in aquatic combat.",
    "counters": ["light_armor", "ranged"],
    "counteredBy": ["heavy_cavalry", "siege"]
  }
}
