{
  "id": "tower_of_blood",
  "type": "building",
  "race": "vampires",
  "name": "Tower of Blood",
  "description": "A defensive tower that attacks enemies with life-draining blood magic, healing from damage dealt.",

  "tags": ["defense", "attack", "tower"],
  "tier": 2,
  "age_requirement": 2,

  "model": {
    "path": "models/races/vampires/buildings/tower_of_blood.obj",
    "scale": [1.0, 1.0, 1.0]
  },

  "textures": {
    "diffuse": "textures/races/vampires/buildings/tower_of_blood_diffuse.png",
    "normal": "textures/races/vampires/buildings/tower_of_blood_normal.png",
    "emissive": "textures/races/vampires/buildings/tower_of_blood_emissive.png"
  },

  "footprint": {
    "size": [2, 2],
    "entrances": [],
    "visualSize": [4.0, 14.0, 4.0]
  },

  "construction": {
    "cost": {
      "gold": 150,
      "lumber": 75,
      "blood": 25
    },
    "time": 45.0,
    "upgradeFrom": "dark_obelisk"
  },

  "stats": {
    "maxHealth": 1000,
    "armor": 15,
    "magicResist": 15
  },

  "combat": {
    "attackDamage": {
      "base": 35,
      "variance": 5,
      "type": "magic"
    },
    "attackSpeed": 1.5,
    "attackRange": 750,
    "attackType": "ranged",
    "projectile": "blood_bolt_tower",
    "targets": ["ground", "air"],
    "lifeSteal": 0.25
  },

  "abilities": [
    {
      "id": "dark_sight",
      "name": "Dark Sight",
      "type": "passive",
      "description": "Provides True Sight, detecting invisible units",
      "effects": {
        "trueSight": true,
        "trueSightRadius": 900
      }
    },
    {
      "id": "vampiric_attack",
      "name": "Vampiric Attack",
      "type": "passive",
      "description": "Tower heals for 25% of damage dealt",
      "effects": {
        "lifeSteal": 0.25
      }
    },
    {
      "id": "blood_bolt_multishot",
      "name": "Blood Bolt Multishot",
      "type": "passive",
      "requiresResearch": "tower_mastery",
      "description": "Tower attacks two targets at once",
      "effects": {
        "additionalTargets": 1
      }
    }
  ],

  "populationProvided": 10,

  "visionRange": 16.0,

  "requirements": {
    "buildings": ["dark_obelisk"],
    "upgradeFrom": "dark_obelisk"
  },

  "unique": false,
  "maxCount": 10,

  "ui": {
    "portrait": "textures/races/vampires/portraits/buildings/tower_of_blood.png",
    "icon": "textures/races/vampires/icons/buildings/tower_of_blood.png",
    "hotkey": "T"
  },

  "dayNightEffects": {
    "night": {
      "attackDamageBonus": 0.5,
      "attackSpeedBonus": 0.25
    }
  }
}
