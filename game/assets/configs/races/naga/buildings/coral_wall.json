{
    "id": "naga_coral_wall",
    "type": "building",
    "name": "Coral Wall",
    "description": "A fortified wall made of hardened coral. Provides excellent protection and can regenerate damage when near water.",
    "race": "naga",
    "tier": 1,
    "category": "defense",

    "tags": ["defense", "wall", "fortification", "tier1"],

    "model": {
        "path": "models/races/naga/buildings/coral_wall.obj",
        "scale": [1.0, 1.0, 1.0]
    },

    "textures": {
        "diffuse": "textures/races/naga/buildings/coral_wall_diffuse.png",
        "normal": "textures/races/naga/buildings/coral_wall_normal.png"
    },

    "footprint": {
        "gridType": "wall",
        "size": [1, 1],
        "connects_to": ["naga_coral_wall", "naga_serpent_ward"],
        "visualSize": [2.0, 4.0, 2.0]
    },

    "construction": {
        "cost": {
            "gold": 30,
            "coral": 20
        },
        "time": 8.0,
        "builder_required": true,
        "chain_build": true
    },

    "stats": {
        "maxHealth": 500,
        "armor": 15,
        "magicResist": 5
    },

    "wall_properties": {
        "blocks_movement": true,
        "blocks_projectiles": false,
        "height": 4.0,
        "auto_connect": true
    },

    "water_bonus": {
        "near_water_radius": 4,
        "health_bonus": 150,
        "regen_rate": 5.0
    },

    "upgrades": [
        {
            "id": "naga_reinforced_coral",
            "name": "Reinforced Coral",
            "cost": {"gold": 50, "coral": 40},
            "time": 15.0,
            "stats_bonus": {
                "health": 250,
                "armor": 5
            }
        }
    ],

    "requirements": {
        "buildings": ["naga_spawning_pool"]
    },

    "scripts": {
        "on_construct_complete": "scripts/buildings/naga/coral_wall/on_complete.py"
    }
}
