{
  "id": "blood_pit",
  "type": "building",
  "race": "vampires",
  "name": "Blood Pit",
  "description": "A gruesome pit where new vampires are created and basic vampire units are trained.",

  "tags": ["military", "production", "melee"],
  "tier": 1,
  "age_requirement": 1,

  "model": {
    "path": "models/races/vampires/buildings/blood_pit.obj",
    "scale": [1.0, 1.0, 1.0]
  },

  "textures": {
    "diffuse": "textures/races/vampires/buildings/blood_pit_diffuse.png",
    "normal": "textures/races/vampires/buildings/blood_pit_normal.png"
  },

  "footprint": {
    "size": [3, 3],
    "entrances": [[1, 0]],
    "visualSize": [8.0, 5.0, 8.0]
  },

  "construction": {
    "cost": {
      "gold": 200,
      "lumber": 100
    },
    "time": 50.0
  },

  "stats": {
    "maxHealth": 1400,
    "armor": 12,
    "magicResist": 5
  },

  "production": [
    {
      "type": "unit",
      "output": "vampire_spawn",
      "cost": {"gold": 140, "blood": 10, "food": 2},
      "time": 20.0,
      "maxQueue": 6
    },
    {
      "type": "unit",
      "output": "blood_seeker",
      "cost": {"gold": 130, "lumber": 20, "blood": 5, "food": 2},
      "time": 18.0,
      "maxQueue": 6
    },
    {
      "type": "unit",
      "output": "nosferatu",
      "cost": {"gold": 260, "lumber": 30, "blood": 30, "food": 4},
      "time": 38.0,
      "maxQueue": 4,
      "prerequisites": ["blood_castle"]
    },
    {
      "type": "unit",
      "output": "elder_vampire",
      "cost": {"gold": 400, "lumber": 80, "blood": 50, "food": 5},
      "time": 50.0,
      "maxQueue": 3,
      "prerequisites": ["citadel_of_night"]
    },
    {
      "type": "unit",
      "output": "vampire_lord",
      "cost": {"gold": 550, "lumber": 100, "blood": 80, "food": 6},
      "time": 65.0,
      "maxQueue": 2,
      "prerequisites": ["citadel_of_night", "noble_awakening"]
    }
  ],

  "researches": [
    {
      "id": "blood_frenzy_upgrade",
      "name": "Blood Frenzy",
      "description": "Vampire Spawn gain 25% attack speed when below 50% health",
      "cost": {"gold": 150, "blood": 50},
      "time": 50.0
    },
    {
      "id": "enhanced_life_steal",
      "name": "Enhanced Life Steal",
      "description": "All vampire units gain +5% life steal",
      "cost": {"gold": 200, "blood": 75},
      "time": 60.0,
      "prerequisites": ["blood_castle"]
    },
    {
      "id": "noble_awakening",
      "name": "Noble Awakening",
      "description": "Allows training of Vampire Lords",
      "cost": {"gold": 300, "lumber": 100, "blood": 100},
      "time": 90.0,
      "prerequisites": ["citadel_of_night"]
    }
  ],

  "abilities": [
    {
      "id": "blood_generation",
      "name": "Blood Generation",
      "type": "passive",
      "description": "Corpses dropped nearby generate Blood",
      "effects": {
        "radius": 400,
        "bloodPerCorpse": 3
      }
    }
  ],

  "visionRange": 10.0,

  "requirements": {
    "buildings": ["crypt_palace"]
  },

  "unique": false,
  "maxCount": 4,

  "ui": {
    "portrait": "textures/races/vampires/portraits/buildings/blood_pit.png",
    "icon": "textures/races/vampires/icons/buildings/blood_pit.png",
    "hotkey": "B"
  }
}
