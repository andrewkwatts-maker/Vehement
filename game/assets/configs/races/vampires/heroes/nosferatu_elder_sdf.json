{
    "id": "nosferatu_elder",
    "type": "hero",
    "race": "vampires",
    "name": "Nosferatu Elder",
    "title": "The Ancient Terror",

    "sdf_model": {
        "name": "Nosferatu Elder Model",
        "root": {
            "name": "body_root",
            "type": "group",
            "transform": {"position": [0, 0, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
            "children": [
                {
                    "name": "torso",
                    "type": "Capsule",
                    "operation": "Union",
                    "transform": {"position": [0, 1.2, 0], "rotation": [0.08, 0, 0, 0.997], "scale": [1, 1, 0.7]},
                    "parameters": {"height": 0.4, "topRadius": 0.1, "bottomRadius": 0.08},
                    "material": {"baseColor": [0.08, 0.06, 0.06, 1.0], "metallic": 0.2, "roughness": 0.75}
                },
                {
                    "name": "robes",
                    "type": "Cone",
                    "operation": "Union",
                    "transform": {"position": [0, 0.7, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 0.8]},
                    "parameters": {"height": 0.9, "topRadius": 0.1, "bottomRadius": 0.35},
                    "material": {"baseColor": [0.05, 0.04, 0.04, 1.0], "metallic": 0.1, "roughness": 0.9}
                },
                {
                    "name": "head",
                    "type": "group",
                    "transform": {"position": [0, 1.65, 0.05], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                    "children": [
                        {
                            "name": "skull",
                            "type": "Ellipsoid",
                            "operation": "Union",
                            "transform": {"position": [0, 0, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                            "parameters": {"radii": [0.1, 0.14, 0.11]},
                            "material": {"baseColor": [0.7, 0.62, 0.52, 1.0], "metallic": 0, "roughness": 0.65}
                        },
                        {
                            "name": "bald_scalp",
                            "type": "Ellipsoid",
                            "operation": "Union",
                            "transform": {"position": [0, 0.08, -0.02], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                            "parameters": {"radii": [0.095, 0.1, 0.1]},
                            "material": {"baseColor": [0.68, 0.6, 0.5, 1.0], "metallic": 0, "roughness": 0.6}
                        },
                        {
                            "name": "ear_left",
                            "type": "Ellipsoid",
                            "operation": "Union",
                            "transform": {"position": [-0.1, 0.02, -0.02], "rotation": [0, 0, 0.2, 0.98], "scale": [1, 1, 1]},
                            "parameters": {"radii": [0.015, 0.08, 0.03]},
                            "material": {"baseColor": [0.68, 0.58, 0.48, 1.0], "metallic": 0, "roughness": 0.65}
                        },
                        {
                            "name": "ear_right",
                            "type": "Ellipsoid",
                            "operation": "Union",
                            "transform": {"position": [0.1, 0.02, -0.02], "rotation": [0, 0, -0.2, 0.98], "scale": [1, 1, 1]},
                            "parameters": {"radii": [0.015, 0.08, 0.03]},
                            "material": {"baseColor": [0.68, 0.58, 0.48, 1.0], "metallic": 0, "roughness": 0.65}
                        },
                        {
                            "name": "nose",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [0, -0.02, 0.12], "rotation": [1.3, 0, 0, 0.27], "scale": [0.7, 1, 1]},
                            "parameters": {"height": 0.06, "topRadius": 0.005, "bottomRadius": 0.02},
                            "material": {"baseColor": [0.65, 0.56, 0.46, 1.0], "metallic": 0, "roughness": 0.65}
                        },
                        {
                            "name": "eye_left",
                            "type": "Sphere",
                            "operation": "Union",
                            "transform": {"position": [-0.04, 0.02, 0.09], "rotation": [0, 0, 0, 1], "scale": [1, 0.5, 1]},
                            "parameters": {"radius": 0.022},
                            "material": {"baseColor": [1.0, 0.1, 0.02, 1.0], "metallic": 0.2, "roughness": 0.1, "emissive": 1.2, "emissiveColor": [1.0, 0.15, 0.02]}
                        },
                        {
                            "name": "eye_right",
                            "type": "Sphere",
                            "operation": "Union",
                            "transform": {"position": [0.04, 0.02, 0.09], "rotation": [0, 0, 0, 1], "scale": [1, 0.5, 1]},
                            "parameters": {"radius": 0.022},
                            "material": {"baseColor": [1.0, 0.1, 0.02, 1.0], "metallic": 0.2, "roughness": 0.1, "emissive": 1.2, "emissiveColor": [1.0, 0.15, 0.02]}
                        },
                        {
                            "name": "fang_left",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [-0.025, -0.12, 0.09], "rotation": [3.0, 0, 0, 0.14], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.05, "topRadius": 0.003, "bottomRadius": 0.01},
                            "material": {"baseColor": [0.95, 0.9, 0.82, 1.0], "metallic": 0.45, "roughness": 0.2}
                        },
                        {
                            "name": "fang_right",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [0.025, -0.12, 0.09], "rotation": [3.0, 0, 0, 0.14], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.05, "topRadius": 0.003, "bottomRadius": 0.01},
                            "material": {"baseColor": [0.95, 0.9, 0.82, 1.0], "metallic": 0.45, "roughness": 0.2}
                        }
                    ]
                },
                {
                    "name": "left_arm",
                    "type": "group",
                    "transform": {"position": [0.12, 1.3, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                    "bone_id": "left_arm",
                    "children": [
                        {
                            "name": "left_upper_arm",
                            "type": "Capsule",
                            "operation": "Union",
                            "transform": {"position": [0.1, -0.15, 0], "rotation": [0, 0, 0.3, 0.95], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.3, "topRadius": 0.03, "bottomRadius": 0.025},
                            "material": {"baseColor": [0.68, 0.6, 0.5, 1.0], "metallic": 0, "roughness": 0.65}
                        },
                        {
                            "name": "left_forearm",
                            "type": "Capsule",
                            "operation": "Union",
                            "transform": {"position": [0.22, -0.32, 0], "rotation": [0, 0, 0.2, 0.98], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.28, "topRadius": 0.022, "bottomRadius": 0.018},
                            "material": {"baseColor": [0.68, 0.6, 0.5, 1.0], "metallic": 0, "roughness": 0.65},
                            "bone_id": "left_forearm"
                        },
                        {
                            "name": "left_hand",
                            "type": "Ellipsoid",
                            "operation": "Union",
                            "transform": {"position": [0.32, -0.48, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                            "parameters": {"radii": [0.02, 0.04, 0.012]},
                            "material": {"baseColor": [0.65, 0.56, 0.46, 1.0], "metallic": 0, "roughness": 0.65},
                            "bone_id": "left_hand"
                        },
                        {
                            "name": "claw_l1",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [0.34, -0.52, 0.02], "rotation": [0.2, 0, 0.15, 0.97], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.06, "topRadius": 0.002, "bottomRadius": 0.006},
                            "material": {"baseColor": [0.12, 0.1, 0.08, 1.0], "metallic": 0.5, "roughness": 0.3},
                            "bone_id": "left_hand"
                        },
                        {
                            "name": "claw_l2",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [0.35, -0.52, 0], "rotation": [0, 0, 0.2, 0.98], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.065, "topRadius": 0.002, "bottomRadius": 0.006},
                            "material": {"baseColor": [0.12, 0.1, 0.08, 1.0], "metallic": 0.5, "roughness": 0.3},
                            "bone_id": "left_hand"
                        }
                    ]
                },
                {
                    "name": "right_arm",
                    "type": "group",
                    "transform": {"position": [-0.12, 1.3, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                    "bone_id": "right_arm",
                    "children": [
                        {
                            "name": "right_upper_arm",
                            "type": "Capsule",
                            "operation": "Union",
                            "transform": {"position": [-0.1, -0.15, 0], "rotation": [0, 0, -0.3, 0.95], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.3, "topRadius": 0.03, "bottomRadius": 0.025},
                            "material": {"baseColor": [0.68, 0.6, 0.5, 1.0], "metallic": 0, "roughness": 0.65}
                        },
                        {
                            "name": "right_forearm",
                            "type": "Capsule",
                            "operation": "Union",
                            "transform": {"position": [-0.22, -0.32, 0], "rotation": [0, 0, -0.2, 0.98], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.28, "topRadius": 0.022, "bottomRadius": 0.018},
                            "material": {"baseColor": [0.68, 0.6, 0.5, 1.0], "metallic": 0, "roughness": 0.65},
                            "bone_id": "right_forearm"
                        },
                        {
                            "name": "right_hand",
                            "type": "Ellipsoid",
                            "operation": "Union",
                            "transform": {"position": [-0.32, -0.48, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                            "parameters": {"radii": [0.02, 0.04, 0.012]},
                            "material": {"baseColor": [0.65, 0.56, 0.46, 1.0], "metallic": 0, "roughness": 0.65},
                            "bone_id": "right_hand"
                        },
                        {
                            "name": "claw_r1",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [-0.34, -0.52, 0.02], "rotation": [0.2, 0, -0.15, 0.97], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.06, "topRadius": 0.002, "bottomRadius": 0.006},
                            "material": {"baseColor": [0.12, 0.1, 0.08, 1.0], "metallic": 0.5, "roughness": 0.3},
                            "bone_id": "right_hand"
                        },
                        {
                            "name": "claw_r2",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [-0.35, -0.52, 0], "rotation": [0, 0, -0.2, 0.98], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.065, "topRadius": 0.002, "bottomRadius": 0.006},
                            "material": {"baseColor": [0.12, 0.1, 0.08, 1.0], "metallic": 0.5, "roughness": 0.3},
                            "bone_id": "right_hand"
                        }
                    ]
                },
                {
                    "name": "blood_orb",
                    "type": "Sphere",
                    "operation": "Union",
                    "transform": {"position": [0, 1.0, 0.3], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                    "parameters": {"radius": 0.12},
                    "material": {"baseColor": [0.65, 0.02, 0.02, 0.85], "metallic": 0.5, "roughness": 0.2, "emissive": 0.7, "emissiveColor": [0.8, 0.05, 0.02]},
                    "bone_id": "spell_orb"
                },
                {
                    "name": "blood_orb_core",
                    "type": "Sphere",
                    "operation": "Union",
                    "transform": {"position": [0, 1.0, 0.3], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                    "parameters": {"radius": 0.06},
                    "material": {"baseColor": [0.95, 0.08, 0.02, 1.0], "metallic": 0.3, "roughness": 0.1, "emissive": 1.0, "emissiveColor": [1.0, 0.1, 0.02]},
                    "bone_id": "spell_orb"
                }
            ]
        },

        "skeleton": {
            "bones": [
                {"name": "root", "parent": null, "position": [0, 0, 0], "rotation": [0, 0, 0, 1]},
                {"name": "spine", "parent": "root", "position": [0, 0.7, 0], "rotation": [0.08, 0, 0, 0.997]},
                {"name": "chest", "parent": "spine", "position": [0, 0.45, 0], "rotation": [0, 0, 0, 1]},
                {"name": "head", "parent": "chest", "position": [0, 0.45, 0.05], "rotation": [0, 0, 0, 1]},
                {"name": "left_arm", "parent": "chest", "position": [0.1, 0.18, 0], "rotation": [0, 0, 0, 1]},
                {"name": "left_forearm", "parent": "left_arm", "position": [0.12, -0.18, 0], "rotation": [0, 0, 0, 1]},
                {"name": "left_hand", "parent": "left_forearm", "position": [0.1, -0.18, 0], "rotation": [0, 0, 0, 1]},
                {"name": "right_arm", "parent": "chest", "position": [-0.1, 0.18, 0], "rotation": [0, 0, 0, 1]},
                {"name": "right_forearm", "parent": "right_arm", "position": [-0.12, -0.18, 0], "rotation": [0, 0, 0, 1]},
                {"name": "right_hand", "parent": "right_forearm", "position": [-0.1, -0.18, 0], "rotation": [0, 0, 0, 1]},
                {"name": "spell_orb", "parent": "chest", "position": [0, -0.12, 0.3], "rotation": [0, 0, 0, 1]}
            ]
        }
    },

    "animations": {
        "idle": {
            "name": "Ancient Idle",
            "duration": 3.5,
            "loop": true,
            "keyframes": [
                {"time": 0.0, "bones": {"spine": {"rotation": [0.08, 0, 0, 0.997]}, "head": {"rotation": [0, 0, 0, 1]}, "spell_orb": {"position": [0, -0.12, 0.3], "scale": [1, 1, 1]}}},
                {"time": 1.75, "bones": {"spine": {"rotation": [0.1, 0, 0, 0.995]}, "head": {"rotation": [-0.03, 0.03, 0, 0.998]}, "spell_orb": {"position": [0, -0.08, 0.32], "scale": [1.1, 1.1, 1.1]}}},
                {"time": 3.5, "bones": {"spine": {"rotation": [0.08, 0, 0, 0.997]}, "head": {"rotation": [0, 0, 0, 1]}, "spell_orb": {"position": [0, -0.12, 0.3], "scale": [1, 1, 1]}}}
            ]
        },
        "glide": {
            "name": "Hover",
            "duration": 1.0,
            "loop": true,
            "keyframes": [
                {"time": 0.0, "bones": {"root": {"position": [0, 0.1, 0]}, "left_arm": {"rotation": [0.1, 0, 0.35, 0.93]}, "right_arm": {"rotation": [0.1, 0, -0.35, 0.93]}}},
                {"time": 0.5, "bones": {"root": {"position": [0, 0.15, 0]}, "left_arm": {"rotation": [0.08, 0, 0.32, 0.94]}, "right_arm": {"rotation": [0.08, 0, -0.32, 0.94]}}},
                {"time": 1.0, "bones": {"root": {"position": [0, 0.1, 0]}, "left_arm": {"rotation": [0.1, 0, 0.35, 0.93]}, "right_arm": {"rotation": [0.1, 0, -0.35, 0.93]}}}
            ]
        },
        "attack": {
            "name": "Blood Bolt",
            "duration": 1.3,
            "loop": false,
            "events": [{"time": 0.7, "event": "deal_damage"}, {"time": 0.6, "event": "spawn_effect", "data": {"effect": "blood_bolt_projectile"}}],
            "keyframes": [
                {"time": 0.0, "bones": {"left_arm": {"rotation": [0, 0, 0.28, 0.96]}, "right_arm": {"rotation": [0, 0, -0.28, 0.96]}, "spell_orb": {"scale": [1, 1, 1]}}},
                {"time": 0.4, "bones": {"left_arm": {"rotation": [0.5, 0, 0.5, 0.71]}, "right_arm": {"rotation": [0.5, 0, -0.5, 0.71]}, "spell_orb": {"scale": [1.8, 1.8, 1.8]}}},
                {"time": 0.7, "bones": {"left_arm": {"rotation": [-0.2, 0, 0.4, 0.89]}, "right_arm": {"rotation": [-0.2, 0, -0.4, 0.89]}, "spell_orb": {"scale": [0.5, 0.5, 0.5]}}},
                {"time": 1.3, "bones": {"left_arm": {"rotation": [0, 0, 0.28, 0.96]}, "right_arm": {"rotation": [0, 0, -0.28, 0.96]}, "spell_orb": {"scale": [1, 1, 1]}}}
            ]
        },
        "ability_plague": {
            "name": "Blood Plague",
            "duration": 2.0,
            "loop": false,
            "events": [{"time": 1.0, "event": "apply_plague"}, {"time": 0.8, "event": "spawn_effect", "data": {"effect": "plague_cloud"}}],
            "keyframes": [
                {"time": 0.0, "bones": {"left_arm": {"rotation": [0, 0, 0.28, 0.96]}, "right_arm": {"rotation": [0, 0, -0.28, 0.96]}}},
                {"time": 0.6, "bones": {"left_arm": {"rotation": [-0.4, 0, 0.6, 0.69]}, "right_arm": {"rotation": [-0.4, 0, -0.6, 0.69]}}},
                {"time": 1.0, "bones": {"left_arm": {"rotation": [0.3, 0, 0.7, 0.65]}, "right_arm": {"rotation": [0.3, 0, -0.7, 0.65]}}},
                {"time": 2.0, "bones": {"left_arm": {"rotation": [0, 0, 0.28, 0.96]}, "right_arm": {"rotation": [0, 0, -0.28, 0.96]}}}
            ]
        },
        "death": {
            "name": "Ancient Death",
            "duration": 2.5,
            "loop": false,
            "keyframes": [
                {"time": 0.0, "bones": {"root": {"position": [0, 0, 0], "rotation": [0, 0, 0, 1]}}},
                {"time": 0.8, "bones": {"root": {"position": [0, -0.2, 0.1], "rotation": [0.2, 0, 0.1, 0.97]}}},
                {"time": 2.5, "bones": {"root": {"position": [0, -1.0, 0.4], "rotation": [0.7, 0, 0.1, 0.7]}}}
            ]
        }
    },

    "animation_state_machine": {
        "states": [
            {"name": "idle", "animation": "idle", "default": true},
            {"name": "glide", "animation": "glide"},
            {"name": "attack", "animation": "attack"},
            {"name": "plague", "animation": "ability_plague"},
            {"name": "death", "animation": "death"}
        ],
        "transitions": [
            {"from": "idle", "to": "glide", "condition": "speed > 0.1", "blend_time": 0.2},
            {"from": "glide", "to": "idle", "condition": "speed < 0.1", "blend_time": 0.2},
            {"from": "any", "to": "attack", "condition": "trigger_attack", "blend_time": 0.1},
            {"from": "attack", "to": "idle", "condition": "animation_complete", "blend_time": 0.2},
            {"from": "any", "to": "plague", "condition": "trigger_ability_q", "blend_time": 0.15},
            {"from": "plague", "to": "idle", "condition": "animation_complete", "blend_time": 0.25},
            {"from": "any", "to": "death", "condition": "health <= 0", "blend_time": 0.1}
        ]
    },

    "behavior": {
        "ai_type": "hero_caster",
        "scripts": {
            "on_spawn": {
                "actions": [
                    {"type": "play_animation", "animation": "idle"},
                    {"type": "spawn_effect", "effect": "ancient_awakening"},
                    {"type": "play_sound", "sound": "nosferatu_elder_ready"}
                ]
            },
            "on_attack": {
                "actions": [
                    {"type": "play_animation", "animation": "attack"},
                    {"type": "spawn_projectile", "projectile": "blood_bolt_large"},
                    {"type": "deal_damage", "delay": 0.7}
                ]
            },
            "on_ability_q": {
                "actions": [
                    {"type": "play_animation", "animation": "ability_plague"},
                    {"type": "apply_aoe_debuff", "debuff": "blood_plague", "radius": 500, "duration": 12},
                    {"type": "start_cooldown", "ability": "blood_plague"}
                ]
            },
            "on_death": {
                "actions": [
                    {"type": "play_animation", "animation": "death"},
                    {"type": "spawn_effect", "effect": "ancient_dissolution"},
                    {"type": "play_sound", "sound": "nosferatu_elder_death"}
                ]
            }
        },

        "passive_aura": {
            "name": "Ancient Presence",
            "radius": 15.0,
            "effects": [
                {"type": "fear", "chance": 0.1, "target": "enemies"},
                {"type": "lifesteal_bonus", "value": 0.15, "target": "allies"}
            ]
        }
    }
}
