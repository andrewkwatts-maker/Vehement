{
  "$schema": "../../../../schemas/unit_archetype.schema.json",

  // =============================================================================
  // NAGA TIDECALLER - Worker Unit
  // =============================================================================
  // Amphibious worker unit that gathers resources and constructs buildings
  // Inherits from: worker archetype
  // Unique traits: Amphibious movement, water affinity, bioluminescence
  // =============================================================================

  "parentArchetype": "worker",
  "id": "naga_tidecaller",
  "name": "Tidecaller",
  "description": "Nimble naga worker that summons tides to gather resources. Moves swiftly through water but slower on land.",

  "category": "worker",
  "tier": 1,

  // =============================================================================
  // MODIFIED STATS - Amphibious Worker
  // =============================================================================
  "baseStats": {
    "health": 50,  // Slightly more health than basic worker
    "healthRegen": 0.8,  // Better regen in water (behavior modifier)
    "mana": 20,  // Small mana pool for water abilities
    "manaRegen": 0.5,
    "damage": 6,
    "damageVariance": 0.15,
    "attackSpeed": 1.1,
    "attackRange": 1.5,  // Slightly longer (trident)
    "armor": 1,  // Natural scales
    "magicResist": 1,  // Water affinity
    "moveSpeed": 4.2,  // Base speed (modified by terrain)
    "sightRange": 9,
    "critChance": 0.02,
    "critMultiplier": 1.5
  },

  // =============================================================================
  // AMPHIBIOUS MOVEMENT BEHAVIOR
  // =============================================================================
  "movement": {
    "movementType": "amphibious",
    "canMoveOnLand": true,
    "canMoveOnWater": true,
    "canMoveOnLava": false,
    "canClimbCliffs": false,
    "canPassThroughUnits": false,

    "collisionRadius": 0.45,
    "pushPriority": 5,

    "pathfindingType": "amphibious",
    "unitSize": "small",

    // Water movement bonus
    "waterMovementMultiplier": 1.5,  // 50% faster in water
    "landMovementMultiplier": 0.85,  // 15% slower on land
    "waterDepthPreference": "shallow"  // Prefers shallow water
  },

  // =============================================================================
  // COST & REQUIREMENTS
  // =============================================================================
  "cost": {
    "gold": 50,
    "wood": 0,
    "food": 1,
    "stone": 0,
    "mana": 5  // Requires some mana to summon
  },

  // =============================================================================
  // ABILITIES
  // =============================================================================
  "abilities": [
    {
      "id": "tidal_gathering",
      "name": "Tidal Gathering",
      "description": "Summons small waves to gather resources more efficiently near water",
      "unlockedByDefault": true,
      "manaCost": 10,
      "cooldown": 20,
      "effect": "Increases gather rate by 25% for 15 seconds when near water"
    },
    {
      "id": "water_breathing",
      "name": "Water Breathing",
      "description": "Passive: Can work underwater and regenerates health in water",
      "unlockedByDefault": true,
      "passive": true
    }
  ],

  "canGather": true,
  "canBuild": true,
  "canRepair": true,
  "gatherBonus": {
    "fish": 1.3,  // 30% bonus gathering fish
    "coral": 1.5,  // 50% bonus gathering coral
    "pearls": 1.2
  },

  "isHero": false,
  "isUnique": false,
  "requiredBuilding": "coral_reef",
  "requiredAge": 0,
  "populationCost": 1,
  "trainTime": 15,

  // =============================================================================
  // COMBAT
  // =============================================================================
  "combat": {
    "attackType": "pierce",  // Trident attack
    "armorType": "light",

    "attackAnimation": {
      "windupTime": 0.25,
      "backswingTime": 0.4,
      "totalDuration": 0.91
    },

    "bonusVs": [],
    "penaltyVs": [
      {
        "category": "heavy",
        "multiplier": 0.8
      }
    ],

    "cleave": {
      "enabled": false
    },
    "splash": {
      "enabled": false
    }
  },

  "bonusVs": [],
  "armorType": "light",
  "attackType": "pierce",
  "movementType": "amphibious",
  "upgrades": [],

  // =============================================================================
  // VISUAL & AUDIO
  // =============================================================================
  "visuals": {
    "model": "models/units/naga/tidecaller.fbx",
    "portrait": "textures/portraits/naga/tidecaller.png",
    "icon": "textures/icons/units/naga/tidecaller.png",
    "scale": 0.95,

    "animations": {
      "idle": "anim_idle_swimming",
      "walk": "anim_swim",
      "attack": "anim_trident_stab",
      "death": "anim_death",
      "special": "anim_gather_tidal"
    },

    "deathEffect": "effects/naga_death_water.fx",
    "bloodType": "none",  // Dissolves into water
    "shadowSize": 0.9,
    "selectionScale": 1.0,

    "teamColorParts": ["fin_crest", "tail_scales"],
    "glowAtNight": true,
    "glowColor": "#4DFFFF",  // Cyan bioluminescence
    "bioluminescence": {
      "enabled": true,
      "intensity": 0.6,
      "pulseSpeed": 2.0
    }
  },

  "sounds": {
    "select": [
      "sounds/units/naga/tidecaller/select1.wav",
      "sounds/units/naga/tidecaller/select2.wav",
      "sounds/units/naga/tidecaller/select3.wav"
    ],
    "move": [
      "sounds/units/naga/tidecaller/move1.wav",
      "sounds/units/naga/tidecaller/move2.wav"
    ],
    "attack": [
      "sounds/units/naga/tidecaller/attack1.wav"
    ],
    "death": [
      "sounds/units/naga/tidecaller/death1.wav"
    ],
    "ready": [
      "sounds/units/naga/tidecaller/ready.wav"
    ],

    "footsteps": "sounds/footsteps/water_splash.wav",
    "attackImpact": "sounds/impacts/trident_hit.wav",
    "ambient": "sounds/ambient/water_bubble.wav"
  },

  // =============================================================================
  // NAGA RACIAL TRAITS
  // =============================================================================
  "racialTraits": {
    "race": "naga",
    "waterAffinity": true,
    "amphibious": true,
    "bioluminescent": true,
    "venomous": false,

    "environmentalBonuses": {
      "inWater": {
        "healthRegen": 2.0,  // 2x health regen
        "manaRegen": 1.5,  // 1.5x mana regen
        "moveSpeed": 1.5,  // 1.5x move speed
        "damageReduction": 0.1  // 10% damage reduction
      },
      "onLand": {
        "healthRegen": 0.5,  // Half regen
        "moveSpeed": 0.85  // 85% move speed
      },
      "atDepth": {
        "deepWater": {
          "healthRegen": 2.5,
          "armor": 2  // +2 armor in deep water
        }
      }
    }
  },

  "metadata": {
    "author": "Claude",
    "version": "1.0",
    "notes": "Naga worker unit. Excels in water, decent on land. Foundation of Naga economy.",
    "tacticalUse": "Use near water for maximum efficiency. Can gather underwater resources."
  }
}
