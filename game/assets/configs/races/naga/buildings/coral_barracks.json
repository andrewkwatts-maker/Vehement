{
    "id": "naga_coral_barracks",
    "type": "building",
    "name": "Coral Barracks",
    "description": "Military training facility where Naga warriors are trained. Produces infantry units including Myrmidons and Royal Guards.",
    "race": "naga",
    "tier": 1,
    "category": "military",

    "tags": ["military", "production", "infantry", "tier1"],

    "model": {
        "path": "models/races/naga/buildings/coral_barracks.obj",
        "scale": [1.0, 1.0, 1.0]
    },

    "textures": {
        "diffuse": "textures/races/naga/buildings/coral_barracks_diffuse.png",
        "normal": "textures/races/naga/buildings/coral_barracks_normal.png"
    },

    "footprint": {
        "gridType": "rect",
        "size": [4, 4],
        "entrances": [[2, 0]],
        "visualSize": [8.0, 6.0, 8.0]
    },

    "construction": {
        "cost": {
            "gold": 200,
            "coral": 100
        },
        "time": 55.0,
        "builder_required": true
    },

    "stats": {
        "maxHealth": 1200,
        "armor": 8,
        "magicResist": 3
    },

    "production": [
        {
            "type": "unit",
            "output": "naga_myrmidon",
            "time": 18.0,
            "cost": {"gold": 100, "coral": 50},
            "maxQueue": 6,
            "requirements": {"age": "age_shallow"}
        },
        {
            "type": "unit",
            "output": "naga_royal_guard",
            "time": 32.0,
            "cost": {"gold": 220, "coral": 120, "pearls": 30},
            "maxQueue": 4,
            "requirements": {"age": "age_reef", "techs": ["naga_elite_training"]}
        },
        {
            "type": "unit",
            "output": "naga_tidal_guardian",
            "time": 40.0,
            "cost": {"gold": 300, "coral": 180, "pearls": 40},
            "maxQueue": 3,
            "requirements": {"age": "age_reef", "techs": ["naga_fortified_shells"]}
        },
        {
            "type": "unit",
            "output": "naga_deep_one",
            "time": 30.0,
            "cost": {"gold": 200, "coral": 80, "pearls": 45},
            "maxQueue": 4,
            "requirements": {"age": "age_reef", "techs": ["naga_shadow_arts"]}
        },
        {
            "type": "unit",
            "output": "naga_sea_giant",
            "time": 100.0,
            "cost": {"gold": 850, "coral": 400, "pearls": 120, "abyssal_essence": 150},
            "maxQueue": 1,
            "requirements": {"age": "age_primordial", "techs": ["naga_giant_pact"]}
        }
    ],

    "research": [
        {
            "id": "naga_coral_weapons_1",
            "name": "Coral Weapons I",
            "cost": {"gold": 100, "coral": 75},
            "time": 40.0
        },
        {
            "id": "naga_coral_weapons_2",
            "name": "Coral Weapons II",
            "cost": {"gold": 175, "coral": 125},
            "time": 55.0,
            "requirements": {"techs": ["naga_coral_weapons_1"]}
        },
        {
            "id": "naga_coral_weapons_3",
            "name": "Coral Weapons III",
            "cost": {"gold": 250, "coral": 175},
            "time": 70.0,
            "requirements": {"techs": ["naga_coral_weapons_2"]}
        },
        {
            "id": "naga_shell_armor_1",
            "name": "Shell Armor I",
            "cost": {"gold": 100, "coral": 75},
            "time": 40.0
        },
        {
            "id": "naga_shell_armor_2",
            "name": "Shell Armor II",
            "cost": {"gold": 175, "coral": 125},
            "time": 55.0,
            "requirements": {"techs": ["naga_shell_armor_1"]}
        },
        {
            "id": "naga_shell_armor_3",
            "name": "Shell Armor III",
            "cost": {"gold": 250, "coral": 175},
            "time": 70.0,
            "requirements": {"techs": ["naga_shell_armor_2"]}
        }
    ],

    "water_bonus": {
        "near_water_radius": 6,
        "production_speed_bonus": 0.1
    },

    "requirements": {
        "buildings": ["naga_spawning_pool"]
    },

    "visionRange": 8.0,

    "scripts": {
        "on_construct_complete": "scripts/buildings/naga/coral_barracks/on_complete.py",
        "on_produce": "scripts/buildings/naga/coral_barracks/on_produce.py"
    }
}
