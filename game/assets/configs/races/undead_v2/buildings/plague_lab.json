{
  "$schema": "../../../../schemas/building_archetype.schema.json",
  "id": "undead_plague_lab",
  "name": "Plague Laboratory",
  "description": "A sinister facility for researching diseases and enhancing plague-based abilities. Provides upgrades for disease damage and spread.",
  "race": "undead",
  "category": "research",
  "tier": 2,

  "size": {
    "width": 3,
    "height": 3
  },

  "health": 950,
  "armor": 3,
  "magicResist": 15,

  "cost": {
    "gold": 280,
    "wood": 140,
    "stone": 100
  },

  "buildTime": 70,
  "requiredBuilding": "undead_graveyard",
  "requiredAge": 1,

  "providesPopulation": 0,

  "productionQueue": [
    {
      "type": "tech",
      "id": "plague_enhancement",
      "requiredAge": 1
    },
    {
      "type": "tech",
      "id": "disease_mastery",
      "requiredAge": 2
    },
    {
      "type": "tech",
      "id": "corpse_enhancement",
      "requiredAge": 1
    },
    {
      "type": "tech",
      "id": "blight_expansion",
      "requiredAge": 1
    }
  ],

  "resourceGeneration": {
    "requiresWorker": false
  },

  "garrisonCapacity": 0,

  "attackCapability": {
    "canAttack": false
  },

  "abilities": [
    {
      "id": "plague_cloud",
      "name": "Plague Cloud",
      "description": "Release a cloud of plague dealing 15 damage per second to nearby enemies",
      "type": "passive",
      "auraRadius": 10.0,
      "damagePerSecond": 15,
      "damageType": "plague"
    },
    {
      "id": "research_efficiency",
      "name": "Research Efficiency",
      "description": "All research completes 15% faster",
      "type": "passive",
      "researchSpeedBonus": 0.15
    }
  ],

  "isUnique": false,
  "maxCount": 4,
  "canRally": false,
  "canUpgrade": false,

  "visuals": {
    "model": "models/races/undead/buildings/plague_lab.obj",
    "icon": "textures/races/undead/icons/buildings/plague_lab.png",
    "textures": {
      "diffuse": "textures/races/undead/buildings/plague_lab_diffuse.png",
      "normal": "textures/races/undead/buildings/plague_lab_normal.png",
      "emissive": "textures/races/undead/buildings/plague_lab_emissive.png"
    },
    "constructionStages": 3,
    "hasDestructionAnimation": true,
    "smokeWhenDamaged": false,
    "blightWhenDamaged": true,
    "damageThreshold": 0.5
  },

  "sounds": {
    "select": ["sounds/undead/plague_lab/select.wav"],
    "complete": ["sounds/undead/plague_lab/complete.wav"],
    "destroyed": ["sounds/undead/plague_lab/destroyed.wav"]
  },

  "visionRange": 10.0,

  "blightProperties": {
    "createsBlight": true,
    "blightRadius": 10.0,
    "blightGrowthRate": 0.2,
    "requiresBlight": true
  }
}
