{
  "$schema": "../../../../schemas/unit_archetype.schema.json",
  "parentArchetype": "mystic_unit_archetype",
  "id": "alien_high_templar",
  "name": "High Templar",
  "description": "Powerful psionic casters wielding devastating spells. High Templars can unleash Psionic Storm to damage groups of enemies or merge together to become Archons.",
  "race": "aliens",
  "category": "mystic",
  "tier": 3,

  "baseStats": {
    "health": 40,
    "healthRegen": 0,
    "shield": 40,
    "shieldRegen": 2.0,
    "shieldRegenDelay": 10.0,
    "energy": 200,
    "energyRegen": 0.56,

    "damage": 0,
    "attackSpeed": 0,
    "attackRange": 0,

    "armor": 0,
    "shieldArmor": 1,
    "magicResist": 20,

    "moveSpeed": 3.94,
    "turnSpeed": 999,
    "acceleration": 999,

    "sightRange": 10,
    "detectionRange": 0
  },

  "combat": {
    "attackType": "normal",
    "armorType": "light"
  },

  "cost": {
    "minerals": 50,
    "vespene": 150,
    "supply": 2
  },

  "trainTime": 55,
  "warpTime": 45,
  "populationCost": 2,
  "requiredBuilding": "alien_gateway",
  "requiredTech": "templar_archives",

  "abilities": [
    {
      "id": "psionic_storm",
      "name": "Psionic Storm",
      "description": "Unleashes a psionic storm that deals 80 damage over 4 seconds to all units in the target area",
      "type": "targeted_position",
      "hotkey": "T",
      "cooldown": 0.0,
      "range": 9.0,
      "energyCost": 75,
      "radius": 1.5,
      "duration": 4.0,
      "unlockedByDefault": true,
      "effects": [
        {
          "type": "damage_over_time",
          "totalDamage": 80,
          "duration": 4.0,
          "radius": 1.5,
          "damageType": "psionic"
        }
      ]
    },
    {
      "id": "feedback",
      "name": "Feedback",
      "description": "Destroys target's energy, dealing 1 damage per point of energy drained",
      "type": "targeted_unit",
      "hotkey": "F",
      "cooldown": 0.0,
      "range": 10.0,
      "energyCost": 50,
      "targetRequiresEnergy": true,
      "unlockedByDefault": true,
      "effects": [
        {
          "type": "drain_energy",
          "amount": "all"
        },
        {
          "type": "damage",
          "damagePerEnergy": 1.0
        }
      ]
    },
    {
      "id": "archon_merge",
      "name": "Archon Warp",
      "description": "Merge two High Templars together to create a powerful Archon",
      "type": "targeted_unit",
      "hotkey": "C",
      "cooldown": 0.0,
      "range": 3.0,
      "targetType": "alien_high_templar",
      "unlockedByDefault": true,
      "effects": [
        {
          "type": "merge",
          "requiredCount": 2,
          "createsUnit": "alien_archon",
          "consumesBothUnits": true
        }
      ]
    }
  ],

  "upgrades": [
    "alien_shields_1",
    "alien_shields_2",
    "alien_shields_3"
  ],

  "canGather": false,
  "canBuild": false,
  "canRepair": false,
  "canAttack": false,
  "canMove": true,
  "canHold": true,
  "canPatrol": true,
  "canStop": true,

  "attributes": {
    "isBiological": true,
    "isPsionic": true,
    "isLight": true,
    "isArmored": false,
    "isMassive": false,
    "cargoSize": 2,
    "canBeWarped": true,
    "isCaster": true
  },

  "formation": {
    "preferredPosition": "back",
    "formationSpacing": 2.0,
    "maintainFormation": true
  },

  "ai": {
    "useAbilities": true,
    "abilityPriority": ["psionic_storm", "feedback"],
    "fleeAtHealthPercent": 0.3,
    "avoidCombat": true
  },

  "visuals": {
    "model": "models/races/aliens/units/high_templar.fbx",
    "portrait": "textures/races/aliens/portraits/high_templar.png",
    "icon": "textures/races/aliens/icons/high_templar.png",
    "scale": 1.0,
    "shieldEffect": "effects/shield_shimmer.fx",
    "psionicAura": "effects/psionic_energy_aura.fx"
  },

  "sounds": {
    "select": [
      "sounds/aliens/high_templar/select1.wav",
      "sounds/aliens/high_templar/select2.wav"
    ],
    "psionicStorm": "sounds/aliens/high_templar/psionic_storm.wav",
    "feedback": "sounds/aliens/high_templar/feedback.wav"
  },

  "collision": {
    "type": "capsule",
    "radius": 0.4,
    "height": 1.8,
    "mass": 70.0
  }
}
