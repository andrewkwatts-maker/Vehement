{
    "id": "ui.templates.ability_button",
    "type": "ui",
    "name": "Ability Button",
    "description": "Single ability button with icon, hotkey, and cooldown overlay",

    "props": [
        { "name": "ability", "type": "Ability*", "required": true },
        { "name": "size", "type": "int", "default": 48 }
    ],

    "template": {
        "tag": "button",
        "class": "ability-button",
        ":class": "ability.isOnCooldown ? 'on-cooldown' : ''",
        ":enabled": "!ability.isOnCooldown && ability.canUse",
        "@click": "onAbilityClick",
        "@mouseenter": "showTooltip",
        "@mouseleave": "hideTooltip",
        "style": {
            "position": "relative",
            "width": "48px",
            "height": "48px",
            "padding": "0",
            "border": "2px solid #3a4a5a",
            "borderRadius": "6px",
            "overflow": "hidden",
            "backgroundColor": "#1a1a2a"
        },
        "children": [
            {
                "tag": "img",
                "class": "ability-icon",
                ":src": "ability.icon",
                "style": {
                    "width": "100%",
                    "height": "100%",
                    "objectFit": "cover"
                }
            },
            {
                "tag": "div",
                "class": "cooldown-overlay",
                ":visible": "ability.isOnCooldown",
                "style": {
                    "position": "absolute",
                    "top": "0",
                    "left": "0",
                    "width": "100%",
                    "height": "100%",
                    "backgroundColor": "rgba(0, 0, 0, 0.7)",
                    "display": "flex",
                    "alignItems": "center",
                    "justifyContent": "center"
                },
                "children": [
                    {
                        "tag": "text",
                        "class": "cooldown-text",
                        ":text": "ability.cooldownRemaining",
                        "style": {
                            "fontSize": "18px",
                            "fontWeight": "bold",
                            "color": "#ffffff"
                        }
                    }
                ]
            },
            {
                "tag": "div",
                "class": "mana-cost",
                ":visible": "ability.manaCost > 0",
                "style": {
                    "position": "absolute",
                    "bottom": "2px",
                    "right": "2px",
                    "backgroundColor": "rgba(0, 0, 100, 0.8)",
                    "padding": "1px 4px",
                    "borderRadius": "2px",
                    "fontSize": "10px",
                    "color": "#88aaff"
                },
                "children": [
                    {
                        "tag": "text",
                        ":text": "ability.manaCost"
                    }
                ]
            },
            {
                "tag": "div",
                "class": "hotkey-badge",
                "style": {
                    "position": "absolute",
                    "top": "2px",
                    "left": "2px",
                    "backgroundColor": "rgba(0, 0, 0, 0.7)",
                    "padding": "1px 4px",
                    "borderRadius": "2px",
                    "fontSize": "10px",
                    "color": "#ffcc00"
                },
                "children": [
                    {
                        "tag": "text",
                        ":text": "ability.hotkey"
                    }
                ]
            }
        ]
    },

    "styles": {
        ".ability-button:hover": {
            "borderColor": "#6a8aaa"
        },
        ".ability-button:active": {
            "transform": "scale(0.95)"
        },
        ".ability-button.on-cooldown": {
            "opacity": "0.7"
        },
        ".ability-button:disabled": {
            "opacity": "0.5",
            "cursor": "not-allowed"
        }
    }
}
