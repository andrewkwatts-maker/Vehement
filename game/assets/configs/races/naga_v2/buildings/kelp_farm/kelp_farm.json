{
  "$schema": "../../../../../schemas/building_archetype.schema.json",

  "parentArchetype": "resource_building_archetype",
  "id": "naga_kelp_farm",
  "name": "Kelp Farm",
  "description": "Cultivated kelp forest that provides food and mana. Sways with the currents.",

  "category": "economic",
  "tier": 1,

  "size": {"width": 3, "height": 3, "footprintShape": "circle"},

  "placement": {
    "requiresLand": false,
    "canPlaceOnWater": true,
    "requiresShallowWater": true,
    "waterProximityRequired": true,
    "minDistanceFromOther": 2.0
  },

  "health": 500,
  "healthRegen": 1.0,
  "armor": 1,

  "resourceGeneration": {
    "resourceType": "food",
    "generationType": "passive",
    "passiveGeneration": {
      "foodPerSecond": 1.5,
      "manaPerSecond": 0.3,
      "maxStoredFood": 600,
      "maxStoredMana": 200,
      "autoCollect": true
    },
    "bonusInWater": {
      "enabled": true,
      "generationMultiplier": 1.4
    }
  },

  "cost": {
    "gold": 80,
    "wood": 30,
    "mana": 20
  },

  "buildTime": 25,
  "requiredBuilding": "naga_coral_reef",

  "canUpgrade": true,
  "upgradesTo": "naga_kelp_grove",

  "visuals": {
    "model": "models/buildings/naga/kelp_farm.fbx",
    "icon": "textures/icons/buildings/naga/kelp_farm.png",
    "glowAtNight": true,
    "glowColor": "#88FF88",
    "bioluminescence": {
      "enabled": true,
      "intensity": 0.5,
      "patterns": ["kelp_tips"]
    }
  },

  "modularBuilding": {
    "enabled": true,
    "maxComponents": 5,
    "allowedComponents": [
      "kelp_bed_component",
      "nutrient_vent_component",
      "fish_school_component"
    ]
  },

  "racialTraits": {
    "race": "naga",
    "living": true,
    "environmentalBonuses": {
      "inWater": {"resourceGeneration": 1.4}
    }
  },

  "metadata": {
    "author": "Claude",
    "notes": "Food and mana production. Must be in water."
  }
}
