{
    "id": "fairy_ancient_of_lore",
    "type": "building",
    "race": "fairies",
    "name": "Ancient of Lore",
    "description": "A wise tree that trains spellcasters and researches magical upgrades. Produces Dryads, Nymphs, Keepers, Enchantresses, and Moonkin.",

    "tags": ["magic", "production", "research", "living", "awakeable"],

    "tier": 2,
    "age_requirement": 2,

    "model": {
        "path": "models/races/fairies/buildings/ancient_of_lore.obj",
        "scale": [1.5, 1.5, 1.5]
    },

    "footprint": {
        "size": [3, 3],
        "entrances": [[1, 0]],
        "visualSize": [8.0, 14.0, 8.0]
    },

    "construction": {
        "cost": {
            "gold": 220,
            "wood": 100
        },
        "time": 65.0,
        "requires_wisp_sacrifice": true,
        "prerequisites": ["fairy_tree_of_life"]
    },

    "stats": {
        "maxHealth": 800,
        "armor": 3,
        "magicResist": 15,
        "healthRegen": 1.5
    },

    "living_building": {
        "enabled": true,
        "regeneration": 1.5,
        "can_uproot": true,
        "uproot_speed": 2.0,
        "rooted_armor_bonus": 3,
        "uprooted_combat": {
            "attackDamage": 24,
            "attackSpeed": 2.2,
            "attackRange": 8.0,
            "damageType": "magic"
        }
    },

    "production": [
        {
            "type": "unit",
            "output": "fairy_nymph",
            "cost": {"gold": 140, "wood": 40, "food": 2},
            "time": 25.0,
            "maxQueue": 4
        },
        {
            "type": "unit",
            "output": "fairy_dryad",
            "cost": {"gold": 145, "wood": 60, "food": 3},
            "time": 28.0,
            "maxQueue": 4,
            "prerequisites": ["fairy_hunters_hall"]
        },
        {
            "type": "unit",
            "output": "fairy_keeper",
            "cost": {"gold": 200, "wood": 80, "food": 4},
            "time": 38.0,
            "maxQueue": 3,
            "prerequisites": ["fairy_tree_of_ages"]
        },
        {
            "type": "unit",
            "output": "fairy_enchantress",
            "cost": {"gold": 260, "wood": 50, "food": 4},
            "time": 40.0,
            "maxQueue": 3,
            "prerequisites": ["fairy_tree_of_eternity", "upgrade_master_illusions"]
        },
        {
            "type": "unit",
            "output": "fairy_moonkin",
            "cost": {"gold": 290, "wood": 70, "food": 4},
            "time": 45.0,
            "maxQueue": 3,
            "prerequisites": ["fairy_tree_of_eternity"]
        }
    ],

    "research": [
        {
            "id": "upgrade_nature_magic_1",
            "name": "Improved Nature Magic",
            "cost": {"gold": 175, "wood": 75},
            "time": 70.0
        },
        {
            "id": "upgrade_abolish_magic",
            "name": "Abolish Magic",
            "cost": {"gold": 100, "wood": 50},
            "time": 45.0
        },
        {
            "id": "upgrade_master_illusions",
            "name": "Master Illusions",
            "cost": {"gold": 200, "wood": 100},
            "time": 90.0,
            "prerequisites": ["fairy_tree_of_eternity"]
        }
    ],

    "visionRange": 12.0,

    "night_bonus": {
        "manaRegen": 1.0,
        "research_speed": 0.15
    },

    "ui": {
        "portrait": "textures/races/fairies/portraits/buildings/ancient_of_lore.png",
        "icon": "textures/races/fairies/icons/buildings/ancient_of_lore.png",
        "hotkey": "L"
    }
}
