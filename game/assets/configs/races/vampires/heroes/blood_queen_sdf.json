{
    "id": "blood_queen",
    "type": "hero",
    "race": "vampires",
    "name": "Blood Queen",
    "title": "The Crimson Matriarch",

    "sdf_model": {
        "name": "Blood Queen Model",
        "root": {
            "name": "body_root",
            "type": "group",
            "transform": {"position": [0, 0, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
            "children": [
                {
                    "name": "torso",
                    "type": "Capsule",
                    "operation": "Union",
                    "transform": {"position": [0, 1.15, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 0.75]},
                    "parameters": {"height": 0.35, "topRadius": 0.12, "bottomRadius": 0.1},
                    "material": {
                        "baseColor": [0.55, 0.02, 0.02, 1.0],
                        "metallic": 0.7,
                        "roughness": 0.35
                    }
                },
                {
                    "name": "corset",
                    "type": "Ellipsoid",
                    "operation": "Union",
                    "transform": {"position": [0, 1.1, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                    "parameters": {"radii": [0.14, 0.18, 0.1]},
                    "material": {
                        "baseColor": [0.08, 0.02, 0.02, 1.0],
                        "metallic": 0.6,
                        "roughness": 0.4
                    }
                },
                {
                    "name": "corset_gem",
                    "type": "Sphere",
                    "operation": "Union",
                    "transform": {"position": [0, 1.18, 0.09], "rotation": [0, 0, 0, 1], "scale": [1, 0.7, 0.4]},
                    "parameters": {"radius": 0.05},
                    "material": {
                        "baseColor": [0.9, 0.05, 0.02, 1.0],
                        "metallic": 0.9,
                        "roughness": 0.1,
                        "emissive": 0.6,
                        "emissiveColor": [1.0, 0.1, 0.05]
                    }
                },
                {
                    "name": "dress_upper",
                    "type": "Cone",
                    "operation": "Union",
                    "transform": {"position": [0, 0.85, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 0.9]},
                    "parameters": {"height": 0.35, "topRadius": 0.12, "bottomRadius": 0.25},
                    "material": {
                        "baseColor": [0.5, 0.02, 0.02, 1.0],
                        "metallic": 0.3,
                        "roughness": 0.6
                    }
                },
                {
                    "name": "dress_lower",
                    "type": "Cone",
                    "operation": "Union",
                    "transform": {"position": [0, 0.35, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 0.85]},
                    "parameters": {"height": 0.7, "topRadius": 0.25, "bottomRadius": 0.45},
                    "material": {
                        "baseColor": [0.45, 0.02, 0.02, 1.0],
                        "metallic": 0.25,
                        "roughness": 0.65
                    }
                },
                {
                    "name": "dress_trail",
                    "type": "Ellipsoid",
                    "operation": "Union",
                    "transform": {"position": [0, 0.05, -0.3], "rotation": [0.2, 0, 0, 0.98], "scale": [1, 1, 1]},
                    "parameters": {"radii": [0.35, 0.04, 0.5]},
                    "material": {
                        "baseColor": [0.4, 0.02, 0.02, 1.0],
                        "metallic": 0.2,
                        "roughness": 0.7
                    },
                    "bone_id": "dress_trail"
                },
                {
                    "name": "head",
                    "type": "group",
                    "transform": {"position": [0, 1.55, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                    "children": [
                        {
                            "name": "skull",
                            "type": "Ellipsoid",
                            "operation": "Union",
                            "transform": {"position": [0, 0, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                            "parameters": {"radii": [0.085, 0.1, 0.09]},
                            "material": {
                                "baseColor": [0.95, 0.9, 0.88, 1.0],
                                "metallic": 0.0,
                                "roughness": 0.5
                            }
                        },
                        {
                            "name": "hair",
                            "type": "Ellipsoid",
                            "operation": "Union",
                            "transform": {"position": [0, 0.04, -0.02], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                            "parameters": {"radii": [0.1, 0.12, 0.12]},
                            "material": {
                                "baseColor": [0.08, 0.02, 0.02, 1.0],
                                "metallic": 0.25,
                                "roughness": 0.65
                            }
                        },
                        {
                            "name": "hair_left",
                            "type": "Capsule",
                            "operation": "Union",
                            "transform": {"position": [-0.08, -0.1, -0.02], "rotation": [0.1, 0, 0.15, 0.98], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.35, "topRadius": 0.04, "bottomRadius": 0.02},
                            "material": {"baseColor": [0.08, 0.02, 0.02, 1.0], "metallic": 0.25, "roughness": 0.65},
                            "bone_id": "hair_left"
                        },
                        {
                            "name": "hair_right",
                            "type": "Capsule",
                            "operation": "Union",
                            "transform": {"position": [0.08, -0.1, -0.02], "rotation": [0.1, 0, -0.15, 0.98], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.35, "topRadius": 0.04, "bottomRadius": 0.02},
                            "material": {"baseColor": [0.08, 0.02, 0.02, 1.0], "metallic": 0.25, "roughness": 0.65},
                            "bone_id": "hair_right"
                        },
                        {
                            "name": "crown_base",
                            "type": "Torus",
                            "operation": "Union",
                            "transform": {"position": [0, 0.1, 0], "rotation": [1.57, 0, 0, 0], "scale": [1, 1, 0.5]},
                            "parameters": {"majorRadius": 0.1, "minorRadius": 0.015},
                            "material": {
                                "baseColor": [0.75, 0.55, 0.1, 1.0],
                                "metallic": 0.95,
                                "roughness": 0.15
                            }
                        },
                        {
                            "name": "crown_spike_front",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [0, 0.18, 0.08], "rotation": [0.3, 0, 0, 0.95], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.12, "topRadius": 0.002, "bottomRadius": 0.015},
                            "material": {"baseColor": [0.75, 0.55, 0.1, 1.0], "metallic": 0.95, "roughness": 0.15}
                        },
                        {
                            "name": "crown_spike_left",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [-0.08, 0.18, 0], "rotation": [0, 0, 0.3, 0.95], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.1, "topRadius": 0.002, "bottomRadius": 0.012},
                            "material": {"baseColor": [0.75, 0.55, 0.1, 1.0], "metallic": 0.95, "roughness": 0.15}
                        },
                        {
                            "name": "crown_spike_right",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [0.08, 0.18, 0], "rotation": [0, 0, -0.3, 0.95], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.1, "topRadius": 0.002, "bottomRadius": 0.012},
                            "material": {"baseColor": [0.75, 0.55, 0.1, 1.0], "metallic": 0.95, "roughness": 0.15}
                        },
                        {
                            "name": "crown_gem",
                            "type": "Sphere",
                            "operation": "Union",
                            "transform": {"position": [0, 0.14, 0.08], "rotation": [0, 0, 0, 1], "scale": [1, 0.8, 0.5]},
                            "parameters": {"radius": 0.025},
                            "material": {
                                "baseColor": [0.9, 0.05, 0.02, 1.0],
                                "metallic": 0.85,
                                "roughness": 0.1,
                                "emissive": 0.7,
                                "emissiveColor": [1.0, 0.1, 0.02]
                            }
                        },
                        {
                            "name": "eye_left",
                            "type": "Sphere",
                            "operation": "Union",
                            "transform": {"position": [-0.03, 0, 0.075], "rotation": [0, 0, 0, 1], "scale": [1, 0.6, 1]},
                            "parameters": {"radius": 0.015},
                            "material": {
                                "baseColor": [1.0, 0.12, 0.08, 1.0],
                                "metallic": 0.2,
                                "roughness": 0.1,
                                "emissive": 0.9,
                                "emissiveColor": [1.0, 0.15, 0.08]
                            }
                        },
                        {
                            "name": "eye_right",
                            "type": "Sphere",
                            "operation": "Union",
                            "transform": {"position": [0.03, 0, 0.075], "rotation": [0, 0, 0, 1], "scale": [1, 0.6, 1]},
                            "parameters": {"radius": 0.015},
                            "material": {
                                "baseColor": [1.0, 0.12, 0.08, 1.0],
                                "metallic": 0.2,
                                "roughness": 0.1,
                                "emissive": 0.9,
                                "emissiveColor": [1.0, 0.15, 0.08]
                            }
                        },
                        {
                            "name": "lips",
                            "type": "Ellipsoid",
                            "operation": "Union",
                            "transform": {"position": [0, -0.04, 0.08], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                            "parameters": {"radii": [0.025, 0.01, 0.015]},
                            "material": {"baseColor": [0.6, 0.02, 0.02, 1.0], "metallic": 0.3, "roughness": 0.4}
                        },
                        {
                            "name": "fang_left",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [-0.015, -0.06, 0.075], "rotation": [3.0, 0, 0, 0.14], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.025, "topRadius": 0.002, "bottomRadius": 0.006},
                            "material": {"baseColor": [0.98, 0.95, 0.9, 1.0], "metallic": 0.4, "roughness": 0.2}
                        },
                        {
                            "name": "fang_right",
                            "type": "Cone",
                            "operation": "Union",
                            "transform": {"position": [0.015, -0.06, 0.075], "rotation": [3.0, 0, 0, 0.14], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.025, "topRadius": 0.002, "bottomRadius": 0.006},
                            "material": {"baseColor": [0.98, 0.95, 0.9, 1.0], "metallic": 0.4, "roughness": 0.2}
                        }
                    ]
                },
                {
                    "name": "left_arm",
                    "type": "group",
                    "transform": {"position": [0.18, 1.28, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                    "bone_id": "left_arm",
                    "children": [
                        {
                            "name": "left_upper_arm",
                            "type": "Capsule",
                            "operation": "Union",
                            "transform": {"position": [0.08, -0.1, 0], "rotation": [0, 0, 0.2, 0.98], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.22, "topRadius": 0.04, "bottomRadius": 0.035},
                            "material": {"baseColor": [0.95, 0.9, 0.88, 1.0], "metallic": 0.0, "roughness": 0.5}
                        },
                        {
                            "name": "left_forearm",
                            "type": "Capsule",
                            "operation": "Union",
                            "transform": {"position": [0.18, -0.22, 0], "rotation": [0, 0, 0.15, 0.99], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.2, "topRadius": 0.032, "bottomRadius": 0.028},
                            "material": {"baseColor": [0.95, 0.9, 0.88, 1.0], "metallic": 0.0, "roughness": 0.5},
                            "bone_id": "left_forearm"
                        },
                        {
                            "name": "left_hand",
                            "type": "Ellipsoid",
                            "operation": "Union",
                            "transform": {"position": [0.24, -0.35, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                            "parameters": {"radii": [0.022, 0.035, 0.018]},
                            "material": {"baseColor": [0.95, 0.9, 0.88, 1.0], "metallic": 0.0, "roughness": 0.5},
                            "bone_id": "left_hand"
                        },
                        {
                            "name": "blood_orb",
                            "type": "Sphere",
                            "operation": "Union",
                            "transform": {"position": [0.24, -0.45, 0.08], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                            "parameters": {"radius": 0.08},
                            "material": {
                                "baseColor": [0.7, 0.02, 0.02, 0.8],
                                "metallic": 0.5,
                                "roughness": 0.15,
                                "emissive": 0.6,
                                "emissiveColor": [0.9, 0.05, 0.02]
                            },
                            "bone_id": "spell_orb"
                        }
                    ]
                },
                {
                    "name": "right_arm",
                    "type": "group",
                    "transform": {"position": [-0.18, 1.28, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                    "bone_id": "right_arm",
                    "children": [
                        {
                            "name": "right_upper_arm",
                            "type": "Capsule",
                            "operation": "Union",
                            "transform": {"position": [-0.08, -0.1, 0], "rotation": [0, 0, -0.2, 0.98], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.22, "topRadius": 0.04, "bottomRadius": 0.035},
                            "material": {"baseColor": [0.95, 0.9, 0.88, 1.0], "metallic": 0.0, "roughness": 0.5}
                        },
                        {
                            "name": "right_forearm",
                            "type": "Capsule",
                            "operation": "Union",
                            "transform": {"position": [-0.18, -0.22, 0], "rotation": [0, 0, -0.15, 0.99], "scale": [1, 1, 1]},
                            "parameters": {"height": 0.2, "topRadius": 0.032, "bottomRadius": 0.028},
                            "material": {"baseColor": [0.95, 0.9, 0.88, 1.0], "metallic": 0.0, "roughness": 0.5},
                            "bone_id": "right_forearm"
                        },
                        {
                            "name": "right_hand",
                            "type": "Ellipsoid",
                            "operation": "Union",
                            "transform": {"position": [-0.24, -0.35, 0], "rotation": [0, 0, 0, 1], "scale": [1, 1, 1]},
                            "parameters": {"radii": [0.022, 0.035, 0.018]},
                            "material": {"baseColor": [0.95, 0.9, 0.88, 1.0], "metallic": 0.0, "roughness": 0.5},
                            "bone_id": "right_hand"
                        }
                    ]
                }
            ]
        },

        "skeleton": {
            "bones": [
                {"name": "root", "parent": null, "position": [0, 0, 0], "rotation": [0, 0, 0, 1]},
                {"name": "spine", "parent": "root", "position": [0, 0.7, 0], "rotation": [0, 0, 0, 1]},
                {"name": "chest", "parent": "spine", "position": [0, 0.4, 0], "rotation": [0, 0, 0, 1]},
                {"name": "neck", "parent": "chest", "position": [0, 0.25, 0], "rotation": [0, 0, 0, 1]},
                {"name": "head", "parent": "neck", "position": [0, 0.18, 0], "rotation": [0, 0, 0, 1]},
                {"name": "hair_left", "parent": "head", "position": [-0.08, -0.1, -0.02], "rotation": [0, 0, 0, 1]},
                {"name": "hair_right", "parent": "head", "position": [0.08, -0.1, -0.02], "rotation": [0, 0, 0, 1]},
                {"name": "left_shoulder", "parent": "chest", "position": [0.14, 0.12, 0], "rotation": [0, 0, 0, 1]},
                {"name": "left_arm", "parent": "left_shoulder", "position": [0.04, -0.02, 0], "rotation": [0, 0, 0, 1]},
                {"name": "left_forearm", "parent": "left_arm", "position": [0.1, -0.14, 0], "rotation": [0, 0, 0, 1]},
                {"name": "left_hand", "parent": "left_forearm", "position": [0.06, -0.14, 0], "rotation": [0, 0, 0, 1]},
                {"name": "spell_orb", "parent": "left_hand", "position": [0, -0.1, 0.08], "rotation": [0, 0, 0, 1]},
                {"name": "right_shoulder", "parent": "chest", "position": [-0.14, 0.12, 0], "rotation": [0, 0, 0, 1]},
                {"name": "right_arm", "parent": "right_shoulder", "position": [-0.04, -0.02, 0], "rotation": [0, 0, 0, 1]},
                {"name": "right_forearm", "parent": "right_arm", "position": [-0.1, -0.14, 0], "rotation": [0, 0, 0, 1]},
                {"name": "right_hand", "parent": "right_forearm", "position": [-0.06, -0.14, 0], "rotation": [0, 0, 0, 1]},
                {"name": "dress_trail", "parent": "spine", "position": [0, -0.3, -0.2], "rotation": [0, 0, 0, 1]}
            ]
        },

        "mesh_settings": {
            "resolution": 96,
            "boundsPadding": 0.15,
            "smoothNormals": true,
            "generateUVs": true,
            "generateTangents": true,
            "generateLODs": true,
            "lodLevels": 4,
            "lodDistances": [15, 30, 50, 100]
        }
    },

    "animations": {
        "idle": {
            "name": "Idle Stance",
            "duration": 3.0,
            "loop": true,
            "keyframes": [
                {"time": 0.0, "bones": {"chest": {"rotation": [0, 0, 0, 1]}, "head": {"rotation": [0, 0, 0, 1]}, "left_arm": {"rotation": [0, 0, 0.15, 0.99]}, "right_arm": {"rotation": [0, 0, -0.1, 0.995]}, "spell_orb": {"scale": [1, 1, 1]}}},
                {"time": 1.5, "bones": {"chest": {"rotation": [0.015, 0, 0, 0.9999]}, "head": {"rotation": [-0.02, 0.02, 0, 0.9996]}, "left_arm": {"rotation": [0.02, 0, 0.17, 0.985]}, "right_arm": {"rotation": [0.02, 0, -0.12, 0.99]}, "spell_orb": {"scale": [1.1, 1.1, 1.1]}}},
                {"time": 3.0, "bones": {"chest": {"rotation": [0, 0, 0, 1]}, "head": {"rotation": [0, 0, 0, 1]}, "left_arm": {"rotation": [0, 0, 0.15, 0.99]}, "right_arm": {"rotation": [0, 0, -0.1, 0.995]}, "spell_orb": {"scale": [1, 1, 1]}}}
            ]
        },
        "glide": {
            "name": "Glide",
            "duration": 1.2,
            "loop": true,
            "keyframes": [
                {"time": 0.0, "bones": {"root": {"position": [0, 0.05, 0]}, "chest": {"rotation": [0.05, 0, 0, 0.999]}, "dress_trail": {"rotation": [0.15, 0, 0, 0.99]}}},
                {"time": 0.6, "bones": {"root": {"position": [0, 0.08, 0]}, "chest": {"rotation": [0.03, 0, 0, 0.9995]}, "dress_trail": {"rotation": [0.12, 0, 0, 0.99]}}},
                {"time": 1.2, "bones": {"root": {"position": [0, 0.05, 0]}, "chest": {"rotation": [0.05, 0, 0, 0.999]}, "dress_trail": {"rotation": [0.15, 0, 0, 0.99]}}}
            ]
        },
        "attack": {
            "name": "Blood Bolt",
            "duration": 1.0,
            "loop": false,
            "events": [
                {"time": 0.5, "event": "deal_damage"},
                {"time": 0.45, "event": "play_sound", "data": {"sound": "blood_bolt_cast"}},
                {"time": 0.5, "event": "spawn_effect", "data": {"effect": "blood_bolt_projectile"}}
            ],
            "keyframes": [
                {"time": 0.0, "bones": {"left_arm": {"rotation": [0, 0, 0.15, 0.99]}, "spell_orb": {"scale": [1, 1, 1]}}},
                {"time": 0.3, "bones": {"left_arm": {"rotation": [0.4, 0, 0.35, 0.85]}, "spell_orb": {"scale": [1.5, 1.5, 1.5]}}},
                {"time": 0.5, "bones": {"left_arm": {"rotation": [0.2, 0, 0.5, 0.84]}, "spell_orb": {"scale": [0.5, 0.5, 0.5]}}},
                {"time": 1.0, "bones": {"left_arm": {"rotation": [0, 0, 0.15, 0.99]}, "spell_orb": {"scale": [1, 1, 1]}}}
            ]
        },
        "ability_blood_nova": {
            "name": "Blood Nova",
            "duration": 1.5,
            "loop": false,
            "events": [
                {"time": 0.8, "event": "spawn_effect", "data": {"effect": "blood_nova_burst"}},
                {"time": 0.8, "event": "deal_aoe_damage"}
            ],
            "keyframes": [
                {"time": 0.0, "bones": {"left_arm": {"rotation": [0, 0, 0.15, 0.99]}, "right_arm": {"rotation": [0, 0, -0.1, 0.995]}}},
                {"time": 0.5, "bones": {"left_arm": {"rotation": [-0.3, 0, 0.5, 0.81]}, "right_arm": {"rotation": [-0.3, 0, -0.5, 0.81]}}},
                {"time": 0.8, "bones": {"left_arm": {"rotation": [0.4, 0, 0.6, 0.69]}, "right_arm": {"rotation": [0.4, 0, -0.6, 0.69]}}},
                {"time": 1.5, "bones": {"left_arm": {"rotation": [0, 0, 0.15, 0.99]}, "right_arm": {"rotation": [0, 0, -0.1, 0.995]}}}
            ]
        },
        "death": {
            "name": "Death",
            "duration": 2.0,
            "loop": false,
            "keyframes": [
                {"time": 0.0, "bones": {"root": {"position": [0, 0, 0], "rotation": [0, 0, 0, 1]}}},
                {"time": 0.6, "bones": {"root": {"position": [0, -0.1, 0], "rotation": [0.15, 0, 0.1, 0.98]}}},
                {"time": 2.0, "bones": {"root": {"position": [0, -0.8, 0.4], "rotation": [0.65, 0, 0.1, 0.75]}}}
            ]
        }
    },

    "animation_state_machine": {
        "states": [
            {"name": "idle", "animation": "idle", "default": true},
            {"name": "glide", "animation": "glide"},
            {"name": "attack", "animation": "attack"},
            {"name": "blood_nova", "animation": "ability_blood_nova"},
            {"name": "death", "animation": "death"}
        ],
        "transitions": [
            {"from": "idle", "to": "glide", "condition": "speed > 0.1", "blend_time": 0.2},
            {"from": "glide", "to": "idle", "condition": "speed < 0.1", "blend_time": 0.2},
            {"from": "any", "to": "attack", "condition": "trigger_attack", "blend_time": 0.1},
            {"from": "attack", "to": "idle", "condition": "animation_complete", "blend_time": 0.2},
            {"from": "any", "to": "blood_nova", "condition": "trigger_ability_q", "blend_time": 0.15},
            {"from": "blood_nova", "to": "idle", "condition": "animation_complete", "blend_time": 0.25},
            {"from": "any", "to": "death", "condition": "health <= 0", "blend_time": 0.1}
        ]
    },

    "behavior": {
        "ai_type": "hero_caster",
        "scripts": {
            "on_spawn": {
                "actions": [
                    {"type": "play_animation", "animation": "idle"},
                    {"type": "spawn_effect", "effect": "blood_mist_spawn"},
                    {"type": "play_sound", "sound": "blood_queen_ready"}
                ]
            },
            "on_attack": {
                "actions": [
                    {"type": "play_animation", "animation": "attack"},
                    {"type": "spawn_projectile", "projectile": "blood_bolt"},
                    {"type": "deal_damage", "delay": 0.5}
                ]
            },
            "on_ability_q": {
                "actions": [
                    {"type": "play_animation", "animation": "ability_blood_nova"},
                    {"type": "deal_aoe_damage", "radius": 400, "damage": 120},
                    {"type": "heal_self", "amount": 80},
                    {"type": "start_cooldown", "ability": "blood_nova"}
                ]
            },
            "on_death": {
                "actions": [
                    {"type": "play_animation", "animation": "death"},
                    {"type": "spawn_effect", "effect": "blood_explosion"},
                    {"type": "play_sound", "sound": "blood_queen_death"}
                ]
            }
        },

        "passive_aura": {
            "name": "Crimson Presence",
            "radius": 12.0,
            "effects": [
                {"type": "mana_regen_bonus", "value": 0.5, "target": "allies"},
                {"type": "spell_damage_bonus", "value": 0.15, "target": "allies"}
            ]
        }
    }
}
