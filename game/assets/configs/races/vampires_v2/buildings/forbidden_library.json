{
  "$schema": "../../../../schemas/building_archetype.schema.json",
  "parentArchetype": "spawner_building",
  "id": "vampire_forbidden_library",
  "name": "Forbidden Library",
  "description": "Ancient repository of dark knowledge. Trains blood mages, researches forbidden magic, and stores cursed tomes.",
  "race": "vampires",
  "category": "research",
  "tier": 2,

  "size": {
    "width": 4,
    "height": 3,
    "footprintShape": "rectangle"
  },

  "health": 700,
  "armor": 2,
  "magicResist": 30,

  "spawner": {
    "queueSize": 4,
    "simultaneousProduction": 1
  },

  "productionQueue": [
    {
      "type": "unit",
      "id": "vampire_blood_mage",
      "hotkey": "M"
    },
    {
      "type": "unit",
      "id": "vampire_countess",
      "hotkey": "C",
      "requiredTech": "dark_nobility"
    }
  ],

  "research": {
    "canResearch": true,
    "researchSlots": 2,
    "availableTech": [
      "blood_magic_mastery",
      "shadow_mastery",
      "dark_nobility",
      "vampire_nobility",
      "ancient_bloodline",
      "lycanthropy"
    ]
  },

  "resourceGeneration": {
    "manaPerSecond": 1.5,
    "maxStoredMana": 300
  },

  "cost": {
    "gold": 350,
    "wood": 200,
    "mana": 100
  },

  "buildTime": 80,
  "requiredBuilding": "vampire_castle",
  "requiredAge": 1,

  "aura": {
    "hasAura": true,
    "auraRadius": 12.0,
    "auraEffects": [
      {
        "affect": "vampire_spellcasters",
        "bonus": {
          "spellPower": 0.20,
          "manaRegen": 1.0
        }
      }
    ]
  },

  "visuals": {
    "model": "models/races/vampires/buildings/forbidden_library.obj",
    "icon": "textures/races/vampires/icons/forbidden_library.png",
    "glowAtNight": true,
    "particleEffects": {
      "ambient": "effects/vampires/dark_knowledge.fx"
    }
  }
}
