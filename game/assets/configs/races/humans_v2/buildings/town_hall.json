{
  "$schema": "../../../../schemas/building_archetype.schema.json",
  "parentArchetype": "main_hall",
  "id": "human_town_hall",
  "name": "Town Hall",
  "description": "The center of any human settlement. Trains peasants and stores resources. Can be upgraded to Keep and Castle.",
  "race": "humans",
  "category": "main_hall",
  "tier": 1,

  "size": {
    "width": 4,
    "height": 4
  },

  "health": 1500,
  "armor": 5,

  "cost": {
    "gold": 400,
    "wood": 150
  },

  "buildTime": 120,
  "requiredAge": 0,

  "providesPopulation": 10,

  "productionQueue": [
    {
      "type": "unit",
      "id": "human_peasant",
      "requiredAge": 0
    },
    {
      "type": "tech",
      "id": "age_up_2",
      "requiredAge": 0
    },
    {
      "type": "tech",
      "id": "age_up_3",
      "requiredAge": 1
    }
  ],

  "resourceGeneration": {
    "goldPerSecond": 0,
    "woodPerSecond": 0,
    "foodPerSecond": 0,
    "stonePerSecond": 0,
    "manaPerSecond": 0,
    "requiresWorker": false,
    "workerCapacity": 0
  },

  "garrisonCapacity": 8,

  "attackCapability": {
    "canAttack": true,
    "damage": 10,
    "attackSpeed": 1.0,
    "attackRange": 12.0,
    "attackType": "pierce",
    "targetAir": true,
    "targetGround": true
  },

  "abilities": [
    {
      "id": "town_bell",
      "name": "Town Bell",
      "description": "Ring the bell to transform all peasants into militia for 60 seconds",
      "type": "active",
      "hotkey": "B",
      "cooldown": 180.0,
      "duration": 60.0,
      "affects": "human_peasant",
      "transformsTo": "human_militia"
    }
  ],

  "aura": {
    "id": "town_center_aura",
    "name": "Town Center",
    "radius": 20.0,
    "effects": [
      {
        "stat": "gatherRate",
        "value": 0.10,
        "scope": "peasant"
      }
    ]
  },

  "isUnique": false,
  "maxCount": 3,
  "canRally": true,
  "canUpgrade": true,
  "upgradesTo": "human_keep",

  "visuals": {
    "model": "models/races/humans/buildings/town_hall.obj",
    "icon": "textures/races/humans/icons/buildings/town_hall.png",
    "textures": {
      "diffuse": "textures/races/humans/buildings/town_hall_diffuse.png",
      "normal": "textures/races/humans/buildings/town_hall_normal.png"
    },
    "constructionStages": 3,
    "hasDestructionAnimation": true,
    "smokeWhenDamaged": true,
    "damageThreshold": 0.5
  },

  "visionRange": 14.0
}
