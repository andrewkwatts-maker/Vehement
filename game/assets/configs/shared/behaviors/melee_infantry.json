{
    "id": "behavior.melee_infantry",
    "type": "behavior",
    "name": "Melee Infantry Behavior",
    "description": "Standard behavior triggers for melee infantry units",

    "triggers": {
        "on_spawn": {
            "actions": [
                { "type": "play_animation", "animation": "idle" },
                { "type": "play_sound", "sound": "unit_ready" },
                { "type": "random_say", "texts": ["Ready for orders.", "Awaiting command.", "At your service."], "chance": 0.8 }
            ]
        },
        "on_selected": {
            "actions": [
                { "type": "play_sound", "sound": "unit_select" },
                { "type": "random_say", "texts": ["Yes?", "Ready.", "Orders?"], "chance": 1.0 }
            ]
        },
        "on_move_order": {
            "actions": [
                { "type": "play_animation", "animation": "walk" },
                { "type": "play_sound", "sound": "unit_acknowledge" },
                { "type": "random_say", "texts": ["Moving out.", "On my way.", "Right away."], "chance": 0.6 }
            ]
        },
        "on_attack_order": {
            "actions": [
                { "type": "play_sound", "sound": "unit_attack_order" },
                { "type": "random_say", "texts": ["To battle!", "For glory!", "Attack!"], "chance": 0.7 }
            ]
        },
        "on_attack_start": {
            "actions": [
                { "type": "play_animation", "animation": "attack" },
                { "type": "play_sound", "sound": "weapon_swing" }
            ]
        },
        "on_attack_hit": {
            "actions": [
                { "type": "play_sound", "sound": "weapon_impact" },
                { "type": "spawn_effect", "effect": "hit_sparks", "at": "target" }
            ]
        },
        "on_damaged": {
            "conditions": [
                { "type": "health_percent_below", "value": 0.3 }
            ],
            "actions": [
                { "type": "play_sound", "sound": "unit_hurt" },
                { "type": "random_say", "texts": ["I'm hit!", "Argh!", "Need help!"], "chance": 0.3 }
            ]
        },
        "on_death": {
            "actions": [
                { "type": "play_animation", "animation": "death" },
                { "type": "play_sound", "sound": "unit_death" },
                { "type": "spawn_effect", "effect": "blood_splatter" },
                { "type": "drop_items", "chance": 0.1 }
            ]
        },
        "on_kill": {
            "actions": [
                { "type": "random_say", "texts": ["Another one down.", "Victory!", "Next!"], "chance": 0.4 },
                { "type": "add_experience", "amount": "target.xp_value" }
            ]
        }
    },

    "tags": ["melee", "infantry", "combat"]
}
