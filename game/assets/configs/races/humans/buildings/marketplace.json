{
    "id": "human_marketplace",
    "type": "building",
    "race": "humans",
    "name": "Marketplace",
    "description": "Trading hub where resources can be bought and sold. Generates gold over time and enables trade routes.",

    "tags": ["economy", "trade", "gold"],

    "tier": 2,
    "age_requirement": 3,

    "model": {
        "path": "models/races/humans/buildings/marketplace.obj",
        "scale": [1.0, 1.0, 1.0]
    },

    "textures": {
        "diffuse": "textures/races/humans/buildings/marketplace_diffuse.png",
        "normal": "textures/races/humans/buildings/marketplace_normal.png"
    },

    "footprint": {
        "size": [4, 3],
        "entrances": [[2, 0], [0, 1], [3, 1]],
        "visualSize": [10.0, 5.0, 8.0]
    },

    "construction": {
        "cost": {
            "gold": 250,
            "wood": 150
        },
        "time": 55.0
    },

    "stats": {
        "maxHealth": 800,
        "armor": 5,
        "magicResist": 5
    },

    "trading": {
        "enabled": true,
        "buy_sell_rates": {
            "wood": {"buy": 100, "sell": 50},
            "stone": {"buy": 125, "sell": 75},
            "food": {"buy": 80, "sell": 40}
        },
        "rate_fluctuation": 0.15
    },

    "resource_generation": {
        "gold": {
            "amount": 2,
            "interval": 30.0
        }
    },

    "researches": [
        {
            "id": "upgrade_trade_routes",
            "name": "Trade Routes",
            "description": "Enable trade caravans between allied marketplaces",
            "cost": {"gold": 200, "wood": 50},
            "time": 60.0
        },
        {
            "id": "upgrade_banking",
            "name": "Banking",
            "description": "+10% gold income from all sources",
            "cost": {"gold": 300, "wood": 75},
            "time": 75.0,
            "effects": [{"stat": "gold_income", "value": 0.10, "scope": "global"}]
        },
        {
            "id": "upgrade_merchant_guild",
            "name": "Merchant Guild",
            "description": "Improve buy/sell rates by 15%",
            "cost": {"gold": 350, "wood": 100},
            "time": 90.0,
            "effects": [{"stat": "trade_rate", "value": 0.15, "scope": "marketplace"}]
        }
    ],

    "abilities": [
        {
            "id": "ability_hire_mercenary",
            "name": "Hire Mercenary",
            "description": "Hire a random mercenary unit for gold",
            "hotkey": "M",
            "cooldown": 120.0,
            "cost": {"gold": 200},
            "mercenary_pool": ["mercenary_swordsman", "mercenary_archer", "mercenary_cavalry"]
        }
    ],

    "visionRange": 10.0,

    "requirements": {
        "buildings": ["human_keep"]
    },

    "unique": true,
    "maxCount": 1,

    "ui": {
        "portrait": "textures/races/humans/portraits/buildings/marketplace.png",
        "icon": "textures/races/humans/icons/buildings/marketplace.png",
        "hotkey": "K"
    }
}
